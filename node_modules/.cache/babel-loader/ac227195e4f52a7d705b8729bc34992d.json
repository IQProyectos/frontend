{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Usuario WTK\\\\Desktop\\\\zzzzzzzzzzzzzzzzzzzzzzzzzz Proyecto 2\\\\frontend\\\\src\\\\pages\\\\Project\\\\ShowProject.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport InfoIcon from '@material-ui/icons/Info';\nimport PageHeader from \"../../components/PageHeader\";\nimport { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Fade from '@material-ui/core/Fade';\nimport Controls from \"../../components/controls/Controls\";\nimport axios from \"axios\";\nimport AddIcon from '@mui/icons-material/Add';\nimport VisibilityIcon from '@mui/icons-material/Visibility';\nimport BarChartIcon from '@mui/icons-material/BarChart';\nimport PlaceIcon from '@material-ui/icons/Place';\nimport { Link } from 'react-router-dom';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport { Table, TableHead, TableCell, Paper, TableRow, TableBody, Button, CssBaseline } from '@material-ui/core';\nimport { useForm, Form } from '../../components/useForm';\nimport Tooltip from '@mui/material/Tooltip';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport TextField from '@material-ui/core/TextField';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport MuiAlert from '@material-ui/lab/Alert';\nimport ViewFactors from '../Factors/ViewFactors';\nimport defaultImg from '../../assets/img/defaultImg.jpeg';\nimport { ScrollToTop } from '../../components/ScrollToTop';\nimport { CSVDownloader } from 'react-papaparse';\nimport DownloadIcon from '@mui/icons-material/Download';\nimport { getPermissions } from '../../services/userService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  cardContainer: {\n    width: 800,\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  media: {\n    height: 300\n  },\n  table: {\n    width: '90%',\n    margin: '50px 0 0 0'\n  },\n  thead: {\n    '& > *': {\n      fontSize: 20,\n      background: '#8ade8f',\n      color: '#FFFFFF'\n    }\n  },\n  row: {\n    '& > *': {\n      fontSize: 18\n    }\n  },\n  buttonheader: {\n    display: 'flex'\n  },\n  placeholder: {\n    height: 40,\n    textAlign: 'center'\n  },\n  button: {\n    background: '#4287f5',\n    color: '#FFFFFF'\n  },\n  pageContent: {\n    width: '90%',\n    margin: '50px 0 0 0',\n    padding: theme.spacing(3)\n  },\n  center: {\n    display: 'flex',\n    textAlign: 'center'\n  },\n  horizmenu: {\n    display: 'inline-block'\n  },\n  textLeft: {\n    marginLeft: '0',\n    paddingLeft: '0'\n  }\n}));\nconst initialValue = {\n  name: '',\n  description: '',\n  objetives: '',\n  justification: '',\n  country: '',\n  isTimeSeries: true,\n  image: '',\n  type: '',\n  places: [],\n  factors: []\n};\nconst initialPlaceValues = {\n  name: '',\n  description: '',\n  latitude: '',\n  longitude: '',\n  image: '',\n  projects: []\n};\nconst cleanPlace = {\n  name: '',\n  description: '',\n  latitude: '',\n  longitude: '',\n  image: '',\n  projects: []\n};\nexport default function ShowProjects() {\n  _s();\n\n  const [page, setPage] = React.useState(0);\n  const [rowsPerPage, setRowsPerPage] = React.useState(10);\n  const [toExport, setExport] = useState([]);\n\n  const handleChangePage = (event, newPage) => {\n    setPage(newPage);\n  };\n\n  const handleChangeRowsPerPage = event => {\n    setRowsPerPage(+event.target.value);\n    setPage(0);\n  };\n\n  const [project, setProject] = useState(initialValue);\n  const {\n    name,\n    description,\n    objetives,\n    justification,\n    country,\n    isTimeSeries,\n    image,\n    type,\n    places,\n    factors\n  } = project;\n  const [open, setOpen] = React.useState(false);\n  const [error, setError] = useState('');\n  const [loading, setLoading] = React.useState(true);\n  const [loadingAso, setLoadingAso] = React.useState(false);\n  const [placesBio, setPlacesBio] = React.useState([]);\n  const [filteredPlaces, setFilteredPlaces] = React.useState([{\n    name: \"\"\n  }]);\n  const [isPlacesBio, setIsPlacesBio] = React.useState(false);\n  const [isEmpty, setIsEmpty] = React.useState(true);\n  const [placeImage, setImage] = React.useState(\"\");\n  const userType = localStorage.getItem(\"type\");\n  const [role, setRole] = useState();\n  const classes = useStyles();\n  const {\n    id\n  } = useParams();\n  useEffect(async () => {\n    let unmounted = false;\n    setLoading(true);\n\n    if (userType === \"user\") {\n      var _response$data;\n\n      const response = await getPermissions(localStorage.getItem(\"uid\"), id);\n      setRole(response === null || response === void 0 ? void 0 : (_response$data = response.data) === null || _response$data === void 0 ? void 0 : _response$data.role);\n    }\n\n    await getPlacesBio();\n    await getFilteredPlaces();\n    await getProject();\n    setLoading(false);\n    return () => {\n      unmounted = true;\n    };\n  }, []);\n  const config = {\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${localStorage.getItem(\"authToken\")}`\n    }\n  };\n\n  async function beautifyFactors() {\n    const response = await axios.get(`http://localhost:5000/api/private/factorproject/${id}`, config);\n    let factorsExport = {};\n    const factors = response.data.factors;\n\n    for (const factor in factors) {\n      delete factors[factor]._id;\n      delete factors[factor].__v;\n      delete factors[factor].projectID;\n      factorsExport[`factor${factor}`] = Object.entries(factors[factor]);\n    }\n\n    return factorsExport;\n  }\n\n  function beautifyPlaces() {\n    let placesExport = {};\n\n    for (const place in placesBio) {\n      delete placesBio[place]._id;\n      delete placesBio[place].__v;\n      delete placesBio[place].projects;\n      placesExport[`place${place}`] = Object.entries(placesBio[place]);\n    }\n\n    return placesExport;\n  }\n\n  async function beautifyCSV(projectP) {\n    const factors = await beautifyFactors();\n    const places = beautifyPlaces();\n    let toExport = {\n      id: projectP.id,\n      name: projectP.name,\n      description: projectP.description,\n      objetives: projectP.objetives,\n      country: projectP.country,\n      justification: projectP.justification,\n      isTimeSeries: projectP.isTimeSeries,\n      type: projectP.type\n    };\n    toExport = Object.assign(toExport, places);\n    toExport = Object.assign(toExport, factors);\n    setExport([toExport]);\n  }\n\n  const getProject = async () => {\n    try {\n      let response = await axios.get(`http://localhost:5000/api/private/project/${id}`, config);\n      setProject(response.data.project);\n      let data = response.data.project;\n      beautifyCSV(data);\n    } catch (error) {\n      setTimeout(() => {\n        setOpen(false);\n        setTimeout(() => {\n          setError(\"\");\n        }, 2000);\n      }, 5000);\n      setOpen(true);\n      return setError(\"Authentication failed!\");\n    }\n  };\n\n  const getPlacesBio = async () => {\n    try {\n      let response = await axios.get(`http://localhost:5000/api/private/placeproject/${id}`, config);\n      setPlacesBio(response.data.places);\n      setLoading(false);\n      if (response.data.places.length > 0) setIsPlacesBio(true);\n    } catch (error) {\n      setTimeout(() => {\n        setOpen(false);\n        setTimeout(() => {\n          setError(\"\");\n        }, 2000);\n      }, 5000);\n      setOpen(true);\n      return setError(\"Authentication failed!\");\n    }\n  };\n\n  const getFilteredPlaces = async () => {\n    try {\n      let response = await axios.get(`http://localhost:5000/api/private/filteredplace/${id}`, config);\n      setFilteredPlaces(response.data.places);\n    } catch (error) {\n      setTimeout(() => {\n        setOpen(false);\n        setTimeout(() => {\n          setError(\"\");\n        }, 2000);\n      }, 5000);\n      setOpen(true);\n      return setError(\"Authentication failed!\");\n    }\n  };\n\n  const getPicturePlace = async place => {\n    try {\n      if (place) {\n        let response = await axios.get(`http://localhost:5000/api/private/placePicture/${place.id}`, config);\n        setImage(response.data.place.image);\n      } else {\n        setImage(\"\");\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const validate = (fieldValues = values) => {\n    let temp = { ...errors\n    };\n    if ('name' in fieldValues) temp.name = fieldValues.name ? \"\" : \"Este campo es obligatorio.\";\n    if ('description' in fieldValues) temp.description = fieldValues.description ? \"\" : \"Este campo es obligatorio.\";\n    if ('latitude' in fieldValues) temp.latitude = fieldValues.latitude ? \"\" : \"Este campo es obligatorio.\";\n    if ('longitude' in fieldValues) temp.longitude = fieldValues.longitude ? \"\" : \"Este campo es obligatorio.\";\n    setErrors({ ...temp\n    });\n    if (fieldValues === values) return Object.values(temp).every(x => x === \"\");\n  };\n\n  const addNewPlace = async () => {\n    try {\n      setLoadingAso(true);\n      values.projects.push(id);\n      return await axios.post(`http://localhost:5000/api/private/place/`, values, config);\n    } catch (error) {\n      setTimeout(() => {\n        setOpen(false);\n        setTimeout(() => {\n          setError(\"\");\n        }, 2000);\n      }, 5000);\n      setOpen(true);\n      setLoadingAso(false);\n      return setError(\"Authentication failed!\");\n    }\n  };\n\n  const updatePlace = async () => {\n    try {\n      setLoadingAso(true);\n      placeValue.projects.push(id);\n      return await axios.patch(`http://localhost:5000/api/private/place/${placeValue.id}`, placeValue, config);\n    } catch (error) {\n      setTimeout(() => {\n        setOpen(false);\n        setTimeout(() => {\n          setError(\"\");\n        }, 2000);\n      }, 5000);\n      setOpen(true);\n      setLoadingAso(false);\n      return setError(\"Authentication failed!\");\n    }\n  };\n\n  const updateProject = async place => {\n    try {\n      setLoadingAso(true);\n      project.places.push(place._id);\n      axios.patch(`http://localhost:5000/api/private/project/${id}`, project, config);\n      setLoadingAso(false);\n    } catch (error) {\n      setTimeout(() => {\n        setOpen(false);\n        setTimeout(() => {\n          setError(\"\");\n        }, 2000);\n      }, 5000);\n      setOpen(true);\n      setLoadingAso(false);\n      return setError(\"Authentication failed!\");\n    }\n  };\n\n  const associatePlace = async () => {\n    await updatePlace().then(setLoadingAso(false));\n    await updateProject(placeValue).then(setLoadingAso(false));\n    await getFilteredPlaces();\n    await getPlacesBio();\n    setPlaceValue(filteredPlaces[0]);\n    setInputValue('');\n    setIsEmpty(true);\n    confirmPost();\n  };\n\n  const wrapPlace = async place => {\n    await updateProject(place).then(setLoadingAso(false));\n    await getFilteredPlaces();\n    await getPlacesBio();\n    confirmPost();\n  };\n\n  const {\n    values,\n    setValues,\n    errors,\n    setErrors,\n    handleInputChange,\n    resetForm\n  } = useForm(initialPlaceValues, true, validate);\n\n  const confirmPost = () => {\n    setOpen(true);\n    resetForm({});\n    setTimeout(function () {\n      setOpen(false);\n    }, 6000);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    if (validate()) {\n      addNewPlace().then(response => {\n        setLoadingAso(false);\n        setValues(cleanPlace);\n        wrapPlace(response.data.Place);\n      });\n    }\n  };\n\n  const [placeValue, setPlaceValue] = React.useState(filteredPlaces[0]);\n  const [inputValue, setInputValue] = React.useState('');\n\n  function Alert(props) {\n    return /*#__PURE__*/_jsxDEV(MuiAlert, {\n      elevation: 6,\n      variant: \"filled\",\n      ...props\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 424,\n      columnNumber: 12\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.root,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.placeholder,\n      hidden: !loading,\n      style: {\n        width: \"90%\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(Fade, {\n        in: loading,\n        style: {\n          transitionDelay: '0m'\n        },\n        unmountOnExit: true,\n        children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 439,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 432,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 441,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 431,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.root,\n      children: /*#__PURE__*/_jsxDEV(Snackbar, {\n        open: open,\n        autoHideDuration: 3000,\n        children: /*#__PURE__*/_jsxDEV(Alert, {\n          severity: error ? \"error\" : \"success\",\n          children: error ? \"Error!\" : \"Se ha asociado el lugar!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 445,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 444,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 443,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      item: true,\n      children: [/*#__PURE__*/_jsxDEV(Controls.Button, {\n        variant: \"text\",\n        text: \"Informaci\\xF3n de lugares\",\n        className: classes.textLeft,\n        href: \"#lugares\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 452,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Controls.Button, {\n        variant: \"text\",\n        text: \"Asociar lugar\",\n        className: classes.textLeft,\n        href: \"#asociar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 453,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Controls.Button, {\n        variant: \"text\",\n        text: \"Informaci\\xF3n de factores\",\n        className: classes.textLeft,\n        href: \"#factores\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 454,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 451,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      direction: \"row\",\n      children: /*#__PURE__*/_jsxDEV(Tooltip, {\n        title: \"Exportar proyecto\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.iconContainer,\n          hidden: role ? !role.export : false,\n          children: /*#__PURE__*/_jsxDEV(CSVDownloader, {\n            data: toExport,\n            filename: name,\n            config: {},\n            children: /*#__PURE__*/_jsxDEV(DownloadIcon, {\n              fontSize: 'medium',\n              color: 'success'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 467,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 462,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 461,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 460,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 456,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(PageHeader, {\n      title: \"Informaci\\xF3n detallada sobre un proyecto\",\n      subTitle: \"Se mostrar\\xE1 tambi\\xE9n los lugares y factores asociados\",\n      icon: /*#__PURE__*/_jsxDEV(InfoIcon, {\n        fontSize: \"large\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 475,\n        columnNumber: 15\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 472,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {\n      id: \"lugares\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 478,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      direction: \"row\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      style: {\n        width: \"90%\"\n      },\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        className: classes.cardContainer,\n        children: [/*#__PURE__*/_jsxDEV(CardMedia, {\n          className: classes.media,\n          image: image ? image : defaultImg,\n          title: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 488,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            gutterBottom: true,\n            variant: \"h5\",\n            component: \"h2\",\n            children: name ? name : 'Nombre'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 494,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"subtitle1\",\n            color: \"textSecondary\",\n            component: \"p\",\n            children: description ? description : 'Descripción'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 497,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"subtitle1\",\n            color: \"textSecondary\",\n            component: \"p\",\n            children: objetives ? objetives : 'Sin objetivos'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 500,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"subtitle1\",\n            color: \"textSecondary\",\n            component: \"p\",\n            children: justification ? justification : 'Sin justificación'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 503,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"subtitle1\",\n            color: \"textSecondary\",\n            component: \"p\",\n            children: country ? country : 'P'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 506,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 493,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CardActions, {\n          disableSpacing: true,\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"subtitle1\",\n            color: \"textSecondary\",\n            component: \"p\",\n            children: \"\\xBFEs serie temporal?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 512,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Controls.Checkbox, {\n            name: \"isTimeSeries\",\n            label: \"\",\n            value: isTimeSeries,\n            disabled: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 515,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"subtitle1\",\n            color: \"textSecondary\",\n            component: \"p\",\n            children: [\"Tipo: \", type === 'clasificacion' ? 'Clasificación' : 'Regresión']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 521,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 511,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 486,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 479,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 527,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(PageHeader, {\n      title: \"Lugares asociados al proyecto\",\n      subTitle: \"Se muestran todos los lugares asociados a este proyecto\",\n      icon: /*#__PURE__*/_jsxDEV(PlaceIcon, {\n        fontSize: \"large\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 531,\n        columnNumber: 15\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 528,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.root,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        hidden: !isPlacesBio,\n        children: [/*#__PURE__*/_jsxDEV(CssBaseline, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 538,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.placeholder,\n          hidden: !loading,\n          children: [/*#__PURE__*/_jsxDEV(Fade, {\n            in: loading,\n            style: {\n              transitionDelay: '0m'\n            },\n            unmountOnExit: true,\n            children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 547,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 540,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 549,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 539,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Paper, {\n          className: classes.table,\n          children: [/*#__PURE__*/_jsxDEV(TableContainer, {\n            children: /*#__PURE__*/_jsxDEV(Table, {\n              stickyHeader: true,\n              \"aria-label\": \"sticky table\",\n              className: classes.container,\n              children: [/*#__PURE__*/_jsxDEV(TableHead, {\n                children: /*#__PURE__*/_jsxDEV(TableRow, {\n                  className: classes.thead,\n                  children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                    children: \"Nombre\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 556,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    children: \"Latitud\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 557,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    children: \"Longitud\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 558,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    className: classes.placeholder,\n                    children: \"Acciones\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 559,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 555,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 554,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n                children: placesBio.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map(place => /*#__PURE__*/_jsxDEV(TableRow, {\n                  hover: true,\n                  className: classes.row,\n                  children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                    children: place.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 565,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    children: place.latitude\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 566,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    children: place.longitude\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 567,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    children: /*#__PURE__*/_jsxDEV(Grid, {\n                      container: true,\n                      direction: \"row\",\n                      justifyContent: \"center\",\n                      alignItems: \"center\",\n                      children: [/*#__PURE__*/_jsxDEV(Tooltip, {\n                        title: \"Informaci\\xF3n\",\n                        children: /*#__PURE__*/_jsxDEV(Button, {\n                          className: classes.button,\n                          variant: \"contained\",\n                          style: {\n                            marginRight: 10\n                          },\n                          component: Link,\n                          to: `/place/show/${place._id}`,\n                          children: /*#__PURE__*/_jsxDEV(InfoIcon, {}, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 577,\n                            columnNumber: 31\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 576,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 575,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n                        title: \"Graficar datos\",\n                        children: /*#__PURE__*/_jsxDEV(Button, {\n                          color: \"secondary\",\n                          variant: \"contained\",\n                          style: {\n                            marginRight: 10\n                          },\n                          component: Link,\n                          to: `/graphics/${id}/${place._id}`,\n                          children: /*#__PURE__*/_jsxDEV(BarChartIcon, {}, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 582,\n                            columnNumber: 31\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 581,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 580,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n                        title: \"Mostrar datos\",\n                        children: /*#__PURE__*/_jsxDEV(Button, {\n                          color: \"inherit\",\n                          variant: \"contained\",\n                          style: {\n                            marginRight: 10\n                          },\n                          component: Link,\n                          to: `/data/show/${id}/${place._id}`,\n                          children: /*#__PURE__*/_jsxDEV(VisibilityIcon, {}, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 587,\n                            columnNumber: 31\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 586,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 585,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n                        title: \"Agregar datos\",\n                        children: /*#__PURE__*/_jsxDEV(Button, {\n                          color: \"primary\",\n                          variant: \"contained\",\n                          style: {\n                            marginRight: 10\n                          },\n                          component: Link,\n                          to: `/data/add/${id}/${place._id}`,\n                          children: /*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 592,\n                            columnNumber: 31\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 591,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 590,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 569,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 568,\n                    columnNumber: 23\n                  }, this)]\n                }, place.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 564,\n                  columnNumber: 21\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 562,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 553,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 552,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TablePagination, {\n            rowsPerPageOptions: [10, 25, 100],\n            component: \"div\",\n            count: placesBio.length,\n            rowsPerPage: rowsPerPage,\n            page: page,\n            onPageChange: handleChangePage,\n            onRowsPerPageChange: handleChangeRowsPerPage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 603,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 551,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 537,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.placeholder,\n        hidden: isPlacesBio,\n        children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 615,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"subtitle1\",\n          color: \"textSecondary\",\n          component: \"p\",\n          children: \"No hay nada qu\\xE9 mostrar en est\\xE1 secci\\xF3n\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 616,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 614,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 536,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {\n      id: \"asociar\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 621,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 622,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(PageHeader, {\n      title: \"Asociar lugar a proyecto\",\n      subTitle: \"Seleccione un lugar para asociarlo a este proyecto\",\n      icon: /*#__PURE__*/_jsxDEV(InfoIcon, {\n        fontSize: \"large\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 626,\n        columnNumber: 15\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 623,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.placeholder,\n      hidden: !loadingAso,\n      children: [/*#__PURE__*/_jsxDEV(Fade, {\n        in: loadingAso,\n        style: {\n          transitionDelay: '0m'\n        },\n        unmountOnExit: true,\n        children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 637,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 630,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 639,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 629,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Paper, {\n      className: classes.pageContent,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        direction: \"row\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        children: /*#__PURE__*/_jsxDEV(Autocomplete, {\n          value: placeValue,\n          onChange: (event, newValue) => {\n            getPicturePlace(newValue);\n            setPlaceValue(newValue);\n          },\n          className: classes.center,\n          id: \"combo-box-places\",\n          options: filteredPlaces,\n          getOptionLabel: option => option.name,\n          style: {\n            width: 300\n          },\n          renderInput: params => /*#__PURE__*/_jsxDEV(TextField, { ...params,\n            label: \"Lugares\",\n            variant: \"outlined\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 660,\n            columnNumber: 38\n          }, this),\n          disabled: loadingAso,\n          inputValue: inputValue,\n          onInputChange: (event, newInputValue) => {\n            setInputValue(newInputValue);\n\n            if (newInputValue === '') {\n              setIsEmpty(true);\n              setPlaceValue('');\n            } else setIsEmpty(false);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 648,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 642,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        hidden: isEmpty,\n        children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 751,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          direction: \"row\",\n          justifyContent: \"center\",\n          alignItems: \"center\",\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            className: classes.cardContainer,\n            children: [/*#__PURE__*/_jsxDEV(CardMedia, {\n              className: classes.media,\n              image: placeImage ? placeImage : defaultImg,\n              title: \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 760,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                gutterBottom: true,\n                variant: \"h5\",\n                component: \"h2\",\n                children: placeValue ? placeValue.name : ''\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 766,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"subtitle1\",\n                color: \"textSecondary\",\n                component: \"p\",\n                children: placeValue ? placeValue.description : ''\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 769,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 765,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(CardActions, {\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"subtitle1\",\n                color: \"primary\",\n                component: \"p\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Latitud: \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 776,\n                  columnNumber: 19\n                }, this), placeValue ? placeValue.latitude : '']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 775,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"subtitle1\",\n                color: \"primary\",\n                component: \"p\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Longitud: \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 780,\n                  columnNumber: 19\n                }, this), placeValue ? placeValue.longitude : '']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 779,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 774,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 758,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 752,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 786,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          direction: \"row\",\n          justifyContent: \"center\",\n          alignItems: \"center\",\n          children: /*#__PURE__*/_jsxDEV(Controls.Button, {\n            text: \"Asociar lugar\",\n            color: \"primary\",\n            onClick: associatePlace\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 793,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 787,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 750,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 641,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 801,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 802,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.placeholder,\n      hidden: !loadingAso,\n      children: [/*#__PURE__*/_jsxDEV(Fade, {\n        in: loadingAso,\n        style: {\n          transitionDelay: '0m'\n        },\n        unmountOnExit: true,\n        children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 811,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 804,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 813,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 803,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"factores\",\n      children: /*#__PURE__*/_jsxDEV(ViewFactors, {\n        id: id,\n        role: role\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 816,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 815,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ScrollToTop, {\n      showBelow: 150\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 818,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 820,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 821,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 822,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 429,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ShowProjects, \"Rx3R06cvW5WzSNaIoND1IcpdK4I=\", false, function () {\n  return [useStyles, useParams, useForm];\n});\n\n_c = ShowProjects;\n\nvar _c;\n\n$RefreshReg$(_c, \"ShowProjects\");","map":{"version":3,"sources":["C:/Users/Usuario WTK/Desktop/zzzzzzzzzzzzzzzzzzzzzzzzzz Proyecto 2/frontend/src/pages/Project/ShowProject.js"],"names":["React","makeStyles","Card","CardActions","CardContent","CardMedia","Typography","Grid","InfoIcon","PageHeader","useState","useEffect","useParams","CircularProgress","Fade","Controls","axios","AddIcon","VisibilityIcon","BarChartIcon","PlaceIcon","Link","TableContainer","TablePagination","Table","TableHead","TableCell","Paper","TableRow","TableBody","Button","CssBaseline","useForm","Form","Tooltip","Autocomplete","TextField","Snackbar","MuiAlert","ViewFactors","defaultImg","ScrollToTop","CSVDownloader","DownloadIcon","getPermissions","useStyles","theme","cardContainer","width","justifyContent","alignItems","media","height","table","margin","thead","fontSize","background","color","row","buttonheader","display","placeholder","textAlign","button","pageContent","padding","spacing","center","horizmenu","textLeft","marginLeft","paddingLeft","initialValue","name","description","objetives","justification","country","isTimeSeries","image","type","places","factors","initialPlaceValues","latitude","longitude","projects","cleanPlace","ShowProjects","page","setPage","rowsPerPage","setRowsPerPage","toExport","setExport","handleChangePage","event","newPage","handleChangeRowsPerPage","target","value","project","setProject","open","setOpen","error","setError","loading","setLoading","loadingAso","setLoadingAso","placesBio","setPlacesBio","filteredPlaces","setFilteredPlaces","isPlacesBio","setIsPlacesBio","isEmpty","setIsEmpty","placeImage","setImage","userType","localStorage","getItem","role","setRole","classes","id","unmounted","response","data","getPlacesBio","getFilteredPlaces","getProject","config","headers","Authorization","beautifyFactors","get","factorsExport","factor","_id","__v","projectID","Object","entries","beautifyPlaces","placesExport","place","beautifyCSV","projectP","assign","setTimeout","length","getPicturePlace","console","log","validate","fieldValues","values","temp","errors","setErrors","every","x","addNewPlace","push","post","updatePlace","placeValue","patch","updateProject","associatePlace","then","setPlaceValue","setInputValue","confirmPost","wrapPlace","setValues","handleInputChange","resetForm","handleSubmit","e","preventDefault","Place","inputValue","Alert","props","root","transitionDelay","iconContainer","export","container","slice","map","marginRight","newValue","option","params","newInputValue"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid'\r\nimport InfoIcon from '@material-ui/icons/Info';\r\nimport PageHeader from \"../../components/PageHeader\";\r\nimport { useState, useEffect } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport Fade from '@material-ui/core/Fade';\r\nimport Controls from \"../../components/controls/Controls\";\r\nimport axios from \"axios\";\r\nimport AddIcon from '@mui/icons-material/Add';\r\nimport VisibilityIcon from '@mui/icons-material/Visibility';\r\nimport BarChartIcon from '@mui/icons-material/BarChart';\r\nimport PlaceIcon from '@material-ui/icons/Place';\r\nimport { Link } from 'react-router-dom';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TablePagination from '@material-ui/core/TablePagination';\r\nimport { Table, TableHead, TableCell, Paper, TableRow, TableBody, Button, CssBaseline } from '@material-ui/core'\r\nimport { useForm, Form } from '../../components/useForm';\r\nimport Tooltip from '@mui/material/Tooltip';\r\nimport Autocomplete from '@material-ui/lab/Autocomplete';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport ViewFactors from '../Factors/ViewFactors';\r\nimport defaultImg from '../../assets/img/defaultImg.jpeg'\r\nimport { ScrollToTop } from '../../components/ScrollToTop'\r\nimport { CSVDownloader } from 'react-papaparse'\r\nimport DownloadIcon from '@mui/icons-material/Download';\r\nimport { getPermissions } from '../../services/userService';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  cardContainer: {\r\n    width: 800,\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\"\r\n  },\r\n  media: {\r\n    height: 300,\r\n  },\r\n  table: {\r\n    width: '90%',\r\n    margin: '50px 0 0 0'\r\n  },\r\n  thead: {\r\n    '& > *': {\r\n      fontSize: 20,\r\n      background: '#8ade8f',\r\n      color: '#FFFFFF'\r\n    }\r\n  },\r\n  row: {\r\n    '& > *': {\r\n      fontSize: 18\r\n    }\r\n  },\r\n  buttonheader: {\r\n    display: 'flex'\r\n\r\n  },\r\n  placeholder: {\r\n    height: 40,\r\n    textAlign: 'center'\r\n  },\r\n  button: {\r\n    background: '#4287f5',\r\n    color: '#FFFFFF'\r\n  },\r\n  pageContent: {\r\n    width: '90%',\r\n    margin: '50px 0 0 0',\r\n    padding: theme.spacing(3),\r\n  },\r\n  center: {\r\n    display: 'flex',\r\n    textAlign: 'center'\r\n  },\r\n  horizmenu: {\r\n    display: 'inline-block'\r\n  },\r\n  textLeft: {\r\n    marginLeft: '0',\r\n    paddingLeft: '0'\r\n  }\r\n}));\r\n\r\nconst initialValue = {\r\n  name: '',\r\n  description: '',\r\n  objetives: '',\r\n  justification: '',\r\n  country: '',\r\n  isTimeSeries: true,\r\n  image: '',\r\n  type: '',\r\n  places: [],\r\n  factors: []\r\n}\r\n\r\nconst initialPlaceValues = {\r\n  name: '',\r\n  description: '',\r\n  latitude: '',\r\n  longitude: '',\r\n  image: '',\r\n  projects: []\r\n}\r\n\r\nconst cleanPlace = {\r\n  name: '',\r\n  description: '',\r\n  latitude: '',\r\n  longitude: '',\r\n  image: '',\r\n  projects: []\r\n}\r\n\r\n\r\nexport default function ShowProjects() {\r\n  const [page, setPage] = React.useState(0);\r\n  const [rowsPerPage, setRowsPerPage] = React.useState(10);\r\n  const [toExport, setExport] = useState([]);\r\n\r\n  const handleChangePage = (event, newPage) => {\r\n    setPage(newPage);\r\n  };\r\n\r\n  const handleChangeRowsPerPage = (event) => {\r\n    setRowsPerPage(+event.target.value);\r\n    setPage(0);\r\n  };\r\n  const [project, setProject] = useState(initialValue);\r\n  const { name, description, objetives,justification, country, isTimeSeries, image, type, places, factors } = project;\r\n  const [open, setOpen] = React.useState(false);\r\n  const [error, setError] = useState('');\r\n  const [loading, setLoading] = React.useState(true);\r\n  const [loadingAso, setLoadingAso] = React.useState(false);\r\n  const [placesBio, setPlacesBio] = React.useState([]);\r\n  const [filteredPlaces, setFilteredPlaces] = React.useState([{ name: \"\" }]);\r\n  const [isPlacesBio, setIsPlacesBio] = React.useState(false);\r\n  const [isEmpty, setIsEmpty] = React.useState(true);\r\n  const [placeImage, setImage] = React.useState(\"\");\r\n  const userType = localStorage.getItem(\"type\");\r\n  const [role, setRole] = useState();\r\n  const classes = useStyles();\r\n  const { id } = useParams();\r\n  useEffect( async() => {\r\n\r\n    let unmounted = false;\r\n    setLoading(true);\r\n    if(userType === \"user\"){\r\n      const response = await getPermissions(localStorage.getItem(\"uid\"), id);\r\n      setRole(response?.data?.role);\r\n    }\r\n    await getPlacesBio();\r\n    await getFilteredPlaces();\r\n    await getProject();\r\n    setLoading(false);\r\n    return () => { unmounted = true; };\r\n  }, []);\r\n\r\n  const config = {\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${localStorage.getItem(\"authToken\")}`,\r\n    },\r\n  };\r\n\r\n  async function beautifyFactors(){\r\n    const response = await axios.get(\r\n      `http://localhost:5000/api/private/factorproject/${id}`,\r\n      config\r\n    );\r\n    let factorsExport = {};\r\n    const factors = response.data.factors;\r\n    for (const factor in factors){\r\n      delete factors[factor]._id;\r\n      delete factors[factor].__v;\r\n      delete factors[factor].projectID;\r\n      factorsExport[`factor${factor}`] = Object.entries(factors[factor]);\r\n    }\r\n    return factorsExport;\r\n  }\r\n\r\n  function beautifyPlaces(){\r\n    let placesExport = {};\r\n    for (const place in placesBio) {\r\n      delete placesBio[place]._id;\r\n      delete placesBio[place].__v;\r\n      delete placesBio[place].projects;\r\n      placesExport[`place${place}`] = Object.entries(placesBio[place]);\r\n    }\r\n    return placesExport;\r\n  }\r\n\r\n  async function beautifyCSV(projectP){\r\n\r\n    const factors = await beautifyFactors();\r\n    const places = beautifyPlaces();\r\n    let toExport = {\r\n      id: projectP.id,\r\n      name: projectP.name,\r\n      description: projectP.description,\r\n      objetives: projectP.objetives,\r\n      country: projectP.country,\r\n      justification: projectP.justification,\r\n      isTimeSeries: projectP.isTimeSeries,\r\n      type: projectP.type,\r\n    }\r\n    toExport = Object.assign(toExport,places);\r\n    toExport = Object.assign(toExport,factors);\r\n    setExport([toExport]);\r\n  }\r\n\r\n  const getProject = async () => {\r\n    try {\r\n      \r\n      let response = await axios.get(`http://localhost:5000/api/private/project/${id}`, config);\r\n      setProject(response.data.project);\r\n      let data = response.data.project;\r\n      \r\n      beautifyCSV(data);\r\n    } catch (error) {\r\n      setTimeout(() => {\r\n        setOpen(false);\r\n        setTimeout(() => {\r\n          setError(\"\");\r\n        }, 2000);\r\n\r\n      }, 5000);\r\n      setOpen(true);\r\n      return setError(\"Authentication failed!\");\r\n    }\r\n  }\r\n\r\n  const getPlacesBio = async () => {\r\n    try {\r\n      let response = await axios.get(`http://localhost:5000/api/private/placeproject/${id}`, config);\r\n      setPlacesBio(response.data.places);\r\n      setLoading(false);\r\n      if (response.data.places.length > 0)\r\n        setIsPlacesBio(true);\r\n    } catch (error) {\r\n      setTimeout(() => {\r\n        setOpen(false);\r\n        setTimeout(() => {\r\n          setError(\"\");\r\n        }, 2000);\r\n\r\n      }, 5000);\r\n      setOpen(true);\r\n      return setError(\"Authentication failed!\");\r\n    }\r\n  }\r\n\r\n  const getFilteredPlaces = async () => {\r\n    try {\r\n      let response = await axios.get(`http://localhost:5000/api/private/filteredplace/${id}`, config);\r\n      setFilteredPlaces(response.data.places);\r\n    } catch (error) {\r\n      setTimeout(() => {\r\n        setOpen(false);\r\n        setTimeout(() => {\r\n          setError(\"\");\r\n        }, 2000);\r\n\r\n      }, 5000);\r\n      setOpen(true);\r\n      return setError(\"Authentication failed!\");\r\n\r\n\r\n    }\r\n  }\r\n\r\n  const getPicturePlace = async (place) => {\r\n    try {\r\n      if (place) {\r\n        let response = await axios.get(`http://localhost:5000/api/private/placePicture/${place.id}`, config);\r\n        setImage(response.data.place.image);\r\n      } else {\r\n        setImage(\"\");\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n\r\n  const validate = (fieldValues = values) => {\r\n    let temp = { ...errors }\r\n    if ('name' in fieldValues)\r\n      temp.name = fieldValues.name ? \"\" : \"Este campo es obligatorio.\"\r\n    if ('description' in fieldValues)\r\n      temp.description = fieldValues.description ? \"\" : \"Este campo es obligatorio.\"\r\n    if ('latitude' in fieldValues)\r\n      temp.latitude = fieldValues.latitude ? \"\" : \"Este campo es obligatorio.\"\r\n    if ('longitude' in fieldValues)\r\n      temp.longitude = fieldValues.longitude ? \"\" : \"Este campo es obligatorio.\"\r\n    setErrors({\r\n      ...temp\r\n    })\r\n\r\n    if (fieldValues === values)\r\n      return Object.values(temp).every(x => x === \"\")\r\n  }\r\n\r\n  const addNewPlace = async () => {\r\n    try {\r\n      setLoadingAso(true);\r\n      values.projects.push(id);\r\n      return await axios.post(`http://localhost:5000/api/private/place/`, values, config);\r\n    } catch (error) {\r\n      setTimeout(() => {\r\n        setOpen(false);\r\n        setTimeout(() => {\r\n          setError(\"\");\r\n        }, 2000);\r\n\r\n      }, 5000);\r\n      setOpen(true);\r\n      setLoadingAso(false);\r\n      return setError(\"Authentication failed!\");\r\n    }\r\n  }\r\n\r\n  const updatePlace = async () => {\r\n    try {\r\n      setLoadingAso(true);\r\n      placeValue.projects.push(id);\r\n      return await axios.patch(`http://localhost:5000/api/private/place/${placeValue.id}`, placeValue, config);\r\n    } catch (error) {\r\n      setTimeout(() => {\r\n        setOpen(false);\r\n        setTimeout(() => {\r\n          setError(\"\");\r\n        }, 2000);\r\n\r\n      }, 5000);\r\n      setOpen(true);\r\n      setLoadingAso(false);\r\n      return setError(\"Authentication failed!\");\r\n    }\r\n  }\r\n\r\n  const updateProject = async (place) => {\r\n    try {\r\n      setLoadingAso(true);\r\n      project.places.push(place._id);\r\n      axios.patch(`http://localhost:5000/api/private/project/${id}`, project, config);\r\n      setLoadingAso(false);\r\n    } catch (error) {\r\n      setTimeout(() => {\r\n        setOpen(false);\r\n        setTimeout(() => {\r\n          setError(\"\");\r\n        }, 2000);\r\n\r\n      }, 5000);\r\n      setOpen(true);\r\n      setLoadingAso(false);\r\n      return setError(\"Authentication failed!\");\r\n    }\r\n  }\r\n\r\n  const associatePlace = async () => {\r\n    await updatePlace().then(setLoadingAso(false));\r\n    await updateProject(placeValue).then(setLoadingAso(false));\r\n    await getFilteredPlaces();\r\n    await getPlacesBio();\r\n    setPlaceValue(filteredPlaces[0]);\r\n    setInputValue('');\r\n    setIsEmpty(true);\r\n    confirmPost();\r\n  }\r\n\r\n  const wrapPlace = async (place) => {\r\n    await updateProject(place).then(setLoadingAso(false));\r\n    await getFilteredPlaces();\r\n    await getPlacesBio();\r\n    confirmPost();\r\n  }\r\n\r\n\r\n\r\n  const {\r\n    values,\r\n    setValues,\r\n    errors,\r\n    setErrors,\r\n    handleInputChange,\r\n    resetForm\r\n  } = useForm(initialPlaceValues, true, validate);\r\n\r\n  const confirmPost = () => {\r\n    setOpen(true);\r\n    resetForm({\r\n\r\n    })\r\n    setTimeout(function () {\r\n      setOpen(false);\r\n    }, 6000);\r\n  }\r\n  const handleSubmit = e => {\r\n    e.preventDefault()\r\n    if (validate()) {\r\n      addNewPlace().then((response) => {\r\n        setLoadingAso(false);\r\n        setValues(cleanPlace);\r\n        wrapPlace(response.data.Place);\r\n      });\r\n\r\n    }\r\n  }\r\n\r\n  const [placeValue, setPlaceValue] = React.useState(filteredPlaces[0]);\r\n  const [inputValue, setInputValue] = React.useState('');\r\n\r\n  function Alert(props) {\r\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n  }\r\n\r\n  return (\r\n\r\n    <div className={classes.root}>\r\n\r\n      <div className={classes.placeholder} hidden={!loading} style={{ width: \"90%\" }}>\r\n        <Fade\r\n          in={loading}\r\n          style={{\r\n            transitionDelay: '0m',\r\n          }}\r\n          unmountOnExit\r\n        >\r\n          <CircularProgress />\r\n        </Fade>\r\n        <br />\r\n      </div>\r\n      <div className={classes.root}>\r\n        <Snackbar open={open} autoHideDuration={3000}>\r\n          <Alert severity={error ? \"error\" : \"success\"}>\r\n            {error ? \"Error!\" : \"Se ha asociado el lugar!\"}\r\n          </Alert>\r\n        </Snackbar>\r\n      </div>\r\n\r\n      <Grid item>\r\n        <Controls.Button variant=\"text\" text=\"Información de lugares\" className={classes.textLeft} href=\"#lugares\" />\r\n        <Controls.Button variant=\"text\" text=\"Asociar lugar\" className={classes.textLeft} href=\"#asociar\" />\r\n        <Controls.Button variant=\"text\" text=\"Información de factores\" className={classes.textLeft} href=\"#factores\" />\r\n      </Grid>\r\n      <Grid\r\n        container\r\n        direction=\"row\"\r\n      >\r\n        <Tooltip title=\"Exportar proyecto\">\r\n          <div className={classes.iconContainer} hidden={role? !role.export : false}>\r\n            <CSVDownloader\r\n              data={toExport}\r\n              filename={name}\r\n              config={{}}\r\n            >\r\n              <DownloadIcon fontSize={'medium'} color={'success'} />\r\n            </CSVDownloader>\r\n          </div>\r\n        </Tooltip>\r\n      </Grid>\r\n      <PageHeader\r\n        title=\"Información detallada sobre un proyecto\"\r\n        subTitle=\"Se mostrará también los lugares y factores asociados\"\r\n        icon={<InfoIcon fontSize=\"large\"\r\n        />}\r\n      />\r\n      <br id=\"lugares\" />\r\n      <Grid\r\n        container\r\n        direction=\"row\"\r\n        justifyContent=\"center\"\r\n        alignItems=\"center\"\r\n        style={{ width: \"90%\" }}\r\n      >\r\n        <Card className={classes.cardContainer}>\r\n\r\n          <CardMedia\r\n            className={classes.media}\r\n            image={image ? image : defaultImg}\r\n            title=\"\"\r\n          />\r\n          <CardContent>\r\n            <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n              {name ? name : 'Nombre'}\r\n            </Typography>\r\n            <Typography variant=\"subtitle1\" color=\"textSecondary\" component=\"p\">\r\n              {description ? description : 'Descripción'}\r\n            </Typography>\r\n            <Typography variant=\"subtitle1\" color=\"textSecondary\" component=\"p\">\r\n              {objetives ? objetives: 'Sin objetivos'}\r\n            </Typography>\r\n            <Typography variant=\"subtitle1\" color=\"textSecondary\" component=\"p\">\r\n              {justification ? justification: 'Sin justificación'}\r\n            </Typography>\r\n            <Typography variant=\"subtitle1\" color=\"textSecondary\" component=\"p\">\r\n              {country ? country: 'P'}\r\n            </Typography>\r\n          </CardContent>\r\n\r\n          <CardActions disableSpacing>\r\n            <Typography variant=\"subtitle1\" color=\"textSecondary\" component=\"p\">\r\n              ¿Es serie temporal?\r\n            </Typography>\r\n            <Controls.Checkbox\r\n              name=\"isTimeSeries\"\r\n              label=\"\"\r\n              value={isTimeSeries}\r\n              disabled={true}\r\n            />\r\n            <Typography variant=\"subtitle1\" color=\"textSecondary\" component=\"p\">\r\n              Tipo: {type === 'clasificacion' ? 'Clasificación' : 'Regresión'}\r\n            </Typography>\r\n          </CardActions>\r\n        </Card>\r\n      </Grid>\r\n      <br />\r\n      <PageHeader\r\n        title=\"Lugares asociados al proyecto\"\r\n        subTitle=\"Se muestran todos los lugares asociados a este proyecto\"\r\n        icon={<PlaceIcon fontSize=\"large\"\r\n\r\n        />}\r\n      />\r\n\r\n      <div className={classes.root}>\r\n        <div hidden={!isPlacesBio}>\r\n          <CssBaseline />\r\n          <div className={classes.placeholder} hidden={!loading}>\r\n            <Fade\r\n              in={loading}\r\n              style={{\r\n                transitionDelay: '0m',\r\n              }}\r\n              unmountOnExit\r\n            >\r\n              <CircularProgress />\r\n            </Fade>\r\n            <br />\r\n          </div>\r\n          <Paper className={classes.table}>\r\n            <TableContainer >\r\n              <Table stickyHeader aria-label=\"sticky table\" className={classes.container}>\r\n                <TableHead>\r\n                  <TableRow className={classes.thead}>\r\n                    <TableCell>Nombre</TableCell>\r\n                    <TableCell>Latitud</TableCell>\r\n                    <TableCell>Longitud</TableCell>\r\n                    <TableCell className={classes.placeholder}>Acciones</TableCell>\r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                  {placesBio.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map((place) => (\r\n                    <TableRow hover className={classes.row} key={place.id}>\r\n                      <TableCell>{place.name}</TableCell>\r\n                      <TableCell>{place.latitude}</TableCell>\r\n                      <TableCell>{place.longitude}</TableCell>\r\n                      <TableCell>\r\n                        <Grid\r\n                          container\r\n                          direction=\"row\"\r\n                          justifyContent=\"center\"\r\n                          alignItems=\"center\"\r\n                        >\r\n                          <Tooltip title=\"Información\">\r\n                            <Button className={classes.button} variant=\"contained\" style={{ marginRight: 10 }} component={Link} to={`/place/show/${place._id}`}>\r\n                              <InfoIcon />\r\n                            </Button>\r\n                          </Tooltip>\r\n                          <Tooltip title=\"Graficar datos\">\r\n                            <Button color=\"secondary\" variant=\"contained\" style={{ marginRight: 10 }} component={Link} to={`/graphics/${id}/${place._id}`}>\r\n                              <BarChartIcon />\r\n                            </Button>\r\n                          </Tooltip>\r\n                          <Tooltip title=\"Mostrar datos\">\r\n                            <Button color=\"inherit\" variant=\"contained\" style={{ marginRight: 10 }} component={Link} to={`/data/show/${id}/${place._id}`}>\r\n                              <VisibilityIcon />\r\n                            </Button>\r\n                          </Tooltip>\r\n                          <Tooltip title=\"Agregar datos\">\r\n                            <Button color=\"primary\" variant=\"contained\" style={{ marginRight: 10 }} component={Link} to={`/data/add/${id}/${place._id}`}>\r\n                              <AddIcon />\r\n                            </Button>\r\n                          </Tooltip>\r\n\r\n                        </Grid>\r\n                      </TableCell>\r\n                    </TableRow>\r\n                  ))}\r\n                </TableBody>\r\n              </Table>\r\n            </TableContainer>\r\n            <TablePagination\r\n              rowsPerPageOptions={[10, 25, 100]}\r\n              component=\"div\"\r\n              count={placesBio.length}\r\n              rowsPerPage={rowsPerPage}\r\n              page={page}\r\n              onPageChange={handleChangePage}\r\n              onRowsPerPageChange={handleChangeRowsPerPage}\r\n            />\r\n          </Paper>\r\n        </div>\r\n        <div className={classes.placeholder} hidden={isPlacesBio}>\r\n          <br />\r\n          <Typography variant=\"subtitle1\" color=\"textSecondary\" component=\"p\">\r\n            No hay nada qué mostrar en está sección\r\n          </Typography>\r\n        </div>\r\n      </div>\r\n      <br id=\"asociar\" />\r\n      <br />\r\n      <PageHeader\r\n        title=\"Asociar lugar a proyecto\"\r\n        subTitle=\"Seleccione un lugar para asociarlo a este proyecto\"\r\n        icon={<InfoIcon fontSize=\"large\"\r\n        />}\r\n      />\r\n      <div className={classes.placeholder} hidden={!loadingAso}>\r\n        <Fade\r\n          in={loadingAso}\r\n          style={{\r\n            transitionDelay: '0m',\r\n          }}\r\n          unmountOnExit\r\n        >\r\n          <CircularProgress />\r\n        </Fade>\r\n        <br />\r\n      </div>\r\n      <Paper className={classes.pageContent}>\r\n        <Grid\r\n          container\r\n          direction=\"row\"\r\n          justifyContent=\"center\"\r\n          alignItems=\"center\"\r\n        >\r\n          <Autocomplete\r\n            value={placeValue}\r\n            onChange={(event, newValue) => {\r\n              getPicturePlace(newValue);\r\n              setPlaceValue(newValue);\r\n\r\n            }}\r\n            className={classes.center}\r\n            id=\"combo-box-places\"\r\n            options={filteredPlaces}\r\n            getOptionLabel={(option) => option.name}\r\n            style={{ width: 300 }}\r\n            renderInput={(params) => <TextField {...params} label=\"Lugares\" variant=\"outlined\" />}\r\n            disabled={loadingAso}\r\n            inputValue={inputValue}\r\n            onInputChange={(event, newInputValue) => {\r\n              setInputValue(newInputValue);\r\n              if (newInputValue === '') {\r\n                setIsEmpty(true);\r\n                setPlaceValue('');\r\n              }\r\n              else\r\n                setIsEmpty(false);\r\n            }}\r\n          />\r\n\r\n        </Grid>\r\n        {/* <div hidden={!isEmpty}>\r\n\r\n          <Form onSubmit={handleSubmit}>\r\n            <br />\r\n            <Divider />\r\n            <br />\r\n            <Grid\r\n              container\r\n              direction=\"row\"\r\n              justifyContent=\"center\"\r\n              alignItems=\"center\"\r\n            >\r\n              <Typography variant=\"h5\" color=\"primary\" component=\"p\" >\r\n                Agregar lugar\r\n              </Typography>\r\n            </Grid>\r\n\r\n            <br />\r\n            <Grid\r\n              container\r\n              direction=\"row\"\r\n              justifyContent=\"center\"\r\n              alignItems=\"center\"\r\n              style={{textAlign: 'center'}}\r\n            >\r\n              <Grid item xs={6}>\r\n                <Controls.Input\r\n                  name=\"name\"\r\n                  label=\"Nombre\"\r\n                  value={values.name}\r\n                  onChange={handleInputChange}\r\n                  error={errors.name}\r\n                />\r\n                <Controls.Input\r\n                  label=\"Descripción\"\r\n                  name=\"description\"\r\n                  value={values.description}\r\n                  onChange={handleInputChange}\r\n                  error={errors.description}\r\n                />\r\n              </Grid>\r\n              <Grid item xs={6}>\r\n                <Controls.Input\r\n                  name=\"latitude\"\r\n                  label=\"Latitud\"\r\n                  value={values.latitude}\r\n                  onChange={handleInputChange}\r\n                  error={errors.name}\r\n                />\r\n                <Controls.Input\r\n                  label=\"Longitud\"\r\n                  name=\"longitude\"\r\n                  value={values.longitude}\r\n                  onChange={handleInputChange}\r\n                  error={errors.description}\r\n                />\r\n              </Grid>\r\n\r\n              <Grid\r\n                container\r\n                direction=\"row\"\r\n                justifyContent=\"center\"\r\n                alignItems=\"center\"\r\n                style={{marginTop: '20px'}}\r\n              >\r\n\r\n                <Controls.Button\r\n                  type=\"submit\"\r\n                  text=\"AGREGAR Y ASOCIAR\"\r\n                />\r\n              </Grid>\r\n            </Grid>\r\n          </Form>\r\n        </div> */}\r\n\r\n        <div hidden={isEmpty}>\r\n          <br />\r\n          <Grid\r\n            container\r\n            direction=\"row\"\r\n            justifyContent=\"center\"\r\n            alignItems=\"center\"\r\n          >\r\n            <Card className={classes.cardContainer}>\r\n\r\n              <CardMedia\r\n                className={classes.media}\r\n                image={placeImage ? placeImage : defaultImg}\r\n                title=\"\"\r\n              />\r\n              <CardContent>\r\n                <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n                  {placeValue ? placeValue.name : ''}\r\n                </Typography>\r\n                <Typography variant=\"subtitle1\" color=\"textSecondary\" component=\"p\">\r\n                  {placeValue ? placeValue.description : ''}\r\n                </Typography>\r\n              </CardContent>\r\n\r\n              <CardActions>\r\n                <Typography variant=\"subtitle1\" color=\"primary\" component=\"p\">\r\n                  <span >Latitud: </span>\r\n                  {placeValue ? placeValue.latitude : ''}\r\n                </Typography>\r\n                <Typography variant=\"subtitle1\" color=\"primary\" component=\"p\">\r\n                  <span>Longitud: </span>\r\n                  {placeValue ? placeValue.longitude : ''}\r\n                </Typography>\r\n              </CardActions>\r\n            </Card>\r\n          </Grid>\r\n          <br />\r\n          <Grid\r\n            container\r\n            direction=\"row\"\r\n            justifyContent=\"center\"\r\n            alignItems=\"center\"\r\n          >\r\n            <Controls.Button\r\n              text=\"Asociar lugar\"\r\n              color=\"primary\"\r\n              onClick={associatePlace} />\r\n          </Grid>\r\n        </div>\r\n      </Paper>\r\n\r\n      <br />\r\n      <br />\r\n      <div className={classes.placeholder} hidden={!loadingAso}>\r\n        <Fade\r\n          in={loadingAso}\r\n          style={{\r\n            transitionDelay: '0m',\r\n          }}\r\n          unmountOnExit\r\n        >\r\n          <CircularProgress />\r\n        </Fade>\r\n        <br />\r\n      </div>\r\n      <div id='factores'>\r\n        <ViewFactors id={id} role={role}/>\r\n      </div>\r\n      <ScrollToTop showBelow={150} />\r\n\r\n      <br />\r\n      <br />\r\n      <br />\r\n\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}