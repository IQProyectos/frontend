{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Usuario WTK\\\\Desktop\\\\zzzzzzzzzzzzzzzzzzzzzzzzzz Proyecto 2\\\\frontend\\\\src\\\\pages\\\\Project\\\\ShowProject.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport InfoIcon from '@material-ui/icons/Info';\nimport PageHeader from \"../../components/PageHeader\";\nimport { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Fade from '@material-ui/core/Fade';\nimport Controls from \"../../components/controls/Controls\";\nimport axios from \"axios\";\nimport AddIcon from '@mui/icons-material/Add';\nimport VisibilityIcon from '@mui/icons-material/Visibility';\nimport BarChartIcon from '@mui/icons-material/BarChart';\nimport ProgramIcon from '@material-ui/icons/Place';\nimport { Link } from 'react-router-dom';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport { Table, TableHead, TableCell, Paper, TableRow, TableBody, Button, CssBaseline } from '@material-ui/core';\nimport { useForm, Form } from '../../components/useForm';\nimport Tooltip from '@mui/material/Tooltip';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport TextField from '@material-ui/core/TextField';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport MuiAlert from '@material-ui/lab/Alert';\nimport ViewFactors from '../Factors/ViewFactors';\nimport defaultImg from '../../assets/img/defaultImg.jpeg';\nimport { ScrollToTop } from '../../components/ScrollToTop';\nimport { CSVDownloader } from 'react-papaparse';\nimport DownloadIcon from '@mui/icons-material/Download';\nimport { getPermissions } from '../../services/userService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  cardContainer: {\n    width: 800,\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  media: {\n    height: 300\n  },\n  table: {\n    width: '90%',\n    margin: '50px 0 0 0'\n  },\n  thead: {\n    '& > *': {\n      fontSize: 20,\n      background: '#8ade8f',\n      color: '#FFFFFF'\n    }\n  },\n  row: {\n    '& > *': {\n      fontSize: 18\n    }\n  },\n  buttonheader: {\n    display: 'flex'\n  },\n  programholder: {\n    height: 40,\n    textAlign: 'center'\n  },\n  button: {\n    background: '#4287f5',\n    color: '#FFFFFF'\n  },\n  pageContent: {\n    width: '90%',\n    margin: '50px 0 0 0',\n    padding: theme.spacing(3)\n  },\n  center: {\n    display: 'flex',\n    textAlign: 'center'\n  },\n  horizmenu: {\n    display: 'inline-block'\n  },\n  textLeft: {\n    marginLeft: '0',\n    paddingLeft: '0'\n  }\n}));\nconst initialValue = {\n  name: '',\n  description: '',\n  objetives: '',\n  justification: '',\n  country: '',\n  department: '',\n  district: '',\n  definition: '',\n  isTimeSeries: true,\n  image: '',\n  programs: []\n};\nconst initialProgramValues = {\n  name: '',\n  description: '',\n  objetivesProgram: '',\n  definitionProgram: '',\n  image: '',\n  projects: []\n};\nconst cleanProgram = {\n  name: '',\n  description: '',\n  objetivesProgram: '',\n  definitionProgram: '',\n  image: '',\n  projects: []\n};\nexport default function ShowProjects() {\n  _s();\n\n  const [page, setPage] = React.useState(0);\n  const [rowsPerPage, setRowsPerPage] = React.useState(10);\n  const [toExport, setExport] = useState([]);\n\n  const handleChangePage = (event, newPage) => {\n    setPage(newPage);\n  };\n\n  const handleChangeRowsPerPage = event => {\n    setRowsPerPage(+event.target.value);\n    setPage(0);\n  };\n\n  const [project, setProject] = useState(initialValue);\n  const {\n    name,\n    description,\n    objetives,\n    justification,\n    country,\n    department,\n    district,\n    definition,\n    isTimeSeries,\n    image,\n    programs\n  } = project;\n  const [open, setOpen] = React.useState(false);\n  const [error, setError] = useState('');\n  const [loading, setLoading] = React.useState(true);\n  const [loadingAso, setLoadingAso] = React.useState(false);\n  const [programsBio, setProgramsBio] = React.useState([]);\n  const [filteredPrograms, setFilteredPrograms] = React.useState([{\n    name: \"\"\n  }]);\n  const [isProgramsBio, setIsProgramsBio] = React.useState(false);\n  const [isEmpty, setIsEmpty] = React.useState(true);\n  const [programImage, setImage] = React.useState(\"\");\n  const userType = localStorage.getItem(\"type\");\n  const [role, setRole] = useState();\n  const classes = useStyles();\n  const {\n    id\n  } = useParams();\n  useEffect(async () => {\n    let unmounted = false;\n    setLoading(true);\n\n    if (userType === \"user\") {\n      var _response$data;\n\n      const response = await getPermissions(localStorage.getItem(\"uid\"), id);\n      setRole(response === null || response === void 0 ? void 0 : (_response$data = response.data) === null || _response$data === void 0 ? void 0 : _response$data.role);\n    }\n\n    await getProgramsBio();\n    await getFilteredPrograms();\n    await getProject();\n    setLoading(false);\n    return () => {\n      unmounted = true;\n    };\n  }, []);\n  const config = {\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${localStorage.getItem(\"authToken\")}`\n    }\n  };\n\n  async function beautifyFactors() {\n    const response = await axios.get(`http://localhost:5000/api/private/factorproject/${id}`, config);\n    let factorsExport = {};\n    const factors = response.data.factors;\n\n    for (const factor in factors) {\n      delete factors[factor]._id;\n      delete factors[factor].__v;\n      delete factors[factor].projectID;\n      factorsExport[`factor${factor}`] = Object.entries(factors[factor]);\n    }\n\n    return factorsExport;\n  }\n\n  function beautifyPrograms() {\n    let programsExport = {};\n\n    for (const program in programsBio) {\n      delete programsBio[program]._id;\n      delete programsBio[program].__v;\n      delete programsBio[program].projects;\n      programsExport[`program${program}`] = Object.entries(programsBio[program]);\n    }\n\n    return programsExport;\n  }\n\n  async function beautifyCSV(projectP) {\n    const factors = await beautifyFactors();\n    const programs = beautifyPrograms();\n    let toExport = {\n      id: projectP.id,\n      name: projectP.name,\n      description: projectP.description,\n      objetives: projectP.objetives,\n      justification: projectP.justification,\n      country: projectP.country,\n      department: projectP.department,\n      district: projectP.district,\n      definition: projectP.definition,\n      isTimeSeries: projectP.isTimeSeries,\n      type: projectP.type\n    };\n    toExport = Object.assign(toExport, programs);\n    toExport = Object.assign(toExport, factors);\n    setExport([toExport]);\n  }\n\n  const getProject = async () => {\n    try {\n      let response = await axios.get(`http://localhost:5000/api/private/project/${id}`, config);\n      setProject(response.data.project);\n      let data = response.data.project;\n      beautifyCSV(data);\n    } catch (error) {\n      setTimeout(() => {\n        setOpen(false);\n        setTimeout(() => {\n          setError(\"\");\n        }, 2000);\n      }, 5000);\n      setOpen(true);\n      return setError(\"Authentication failed!\");\n    }\n  };\n\n  const getProgramsBio = async () => {\n    try {\n      let response = await axios.get(`http://localhost:5000/api/private/programproject/${id}`, config);\n      setProgramsBio(response.data.programs);\n      setLoading(false);\n      if (response.data.programs.length > 0) setIsProgramsBio(true);\n    } catch (error) {\n      setTimeout(() => {\n        setOpen(false);\n        setTimeout(() => {\n          setError(\"\");\n        }, 2000);\n      }, 5000);\n      setOpen(true);\n      return setError(\"Authentication failed!\");\n    }\n  };\n\n  const getFilteredPrograms = async () => {\n    try {\n      let response = await axios.get(`http://localhost:5000/api/private/filteredprogram/${id}`, config);\n      setFilteredPrograms(response.data.programs);\n    } catch (error) {\n      setTimeout(() => {\n        setOpen(false);\n        setTimeout(() => {\n          setError(\"\");\n        }, 2000);\n      }, 5000);\n      setOpen(true);\n      return setError(\"Authentication failed!\");\n    }\n  };\n\n  const getPictureProgram = async program => {\n    try {\n      if (program) {\n        let response = await axios.get(`http://localhost:5000/api/private/programPicture/${program.id}`, config);\n        setImage(response.data.program.image);\n      } else {\n        setImage(\"\");\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const validate = (fieldValues = values) => {\n    let temp = { ...errors\n    };\n    if ('name' in fieldValues) temp.name = fieldValues.name ? \"\" : \"Este campo es obligatorio.\";\n    if ('description' in fieldValues) temp.description = fieldValues.description ? \"\" : \"Este campo es obligatorio.\";\n    if ('objetivesProgram' in fieldValues) temp.objetivesProgram = fieldValues.objetivesProgram ? \"\" : \"Este campo es obligatorio.\";\n    if ('definitionProgram' in fieldValues) temp.definitionProgram = fieldValues.definitionProgram ? \"\" : \"Este campo es obligatorio.\";\n    setErrors({ ...temp\n    });\n    if (fieldValues === values) return Object.values(temp).every(x => x === \"\");\n  };\n\n  const addNewProgram = async () => {\n    try {\n      setLoadingAso(true);\n      values.projects.push(id);\n      return await axios.post(`http://localhost:5000/api/private/program/`, values, config);\n    } catch (error) {\n      setTimeout(() => {\n        setOpen(false);\n        setTimeout(() => {\n          setError(\"\");\n        }, 2000);\n      }, 5000);\n      setOpen(true);\n      setLoadingAso(false);\n      return setError(\"Authentication failed!\");\n    }\n  };\n\n  const updateProgram = async () => {\n    try {\n      setLoadingAso(true);\n      programValue.projects.push(id);\n      return await axios.patch(`http://localhost:5000/api/private/program/${programValue.id}`, programValue, config);\n    } catch (error) {\n      setTimeout(() => {\n        setOpen(false);\n        setTimeout(() => {\n          setError(\"\");\n        }, 2000);\n      }, 5000);\n      setOpen(true);\n      setLoadingAso(false);\n      return setError(\"Authentication failed!\");\n    }\n  };\n\n  const updateProject = async program => {\n    try {\n      setLoadingAso(true);\n      project.programs.push(program._id);\n      axios.patch(`http://localhost:5000/api/private/project/${id}`, project, config);\n      setLoadingAso(false);\n    } catch (error) {\n      setTimeout(() => {\n        setOpen(false);\n        setTimeout(() => {\n          setError(\"\");\n        }, 2000);\n      }, 5000);\n      setOpen(true);\n      setLoadingAso(false);\n      return setError(\"Authentication failed!\");\n    }\n  };\n\n  const associateProgram = async () => {\n    await updateProgram().then(setLoadingAso(false));\n    await updateProject(programValue).then(setLoadingAso(false));\n    await getFilteredPrograms();\n    await getProgramsBio();\n    setProgramValue(filteredPrograms[0]);\n    setInputValue('');\n    setIsEmpty(true);\n    confirmPost();\n  };\n\n  const wrapProgram = async program => {\n    await updateProject(program).then(setLoadingAso(false));\n    await getFilteredPrograms();\n    await getProgramsBio();\n    confirmPost();\n  };\n\n  const {\n    values,\n    setValues,\n    errors,\n    setErrors,\n    handleInputChange,\n    resetForm\n  } = useForm(initialProgramValues, true, validate);\n\n  const confirmPost = () => {\n    setOpen(true);\n    resetForm({});\n    setTimeout(function () {\n      setOpen(false);\n    }, 6000);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    if (validate()) {\n      addNewProgram().then(response => {\n        setLoadingAso(false);\n        setValues(cleanProgram);\n        wrapProgram(response.data.Program);\n      });\n    }\n  };\n\n  const [programValue, setProgramValue] = React.useState(filteredPrograms[0]);\n  const [inputValue, setInputValue] = React.useState('');\n\n  function Alert(props) {\n    return /*#__PURE__*/_jsxDEV(MuiAlert, {\n      elevation: 6,\n      variant: \"filled\",\n      ...props\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 428,\n      columnNumber: 12\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.root,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.programholder,\n      hidden: !loading,\n      style: {\n        width: \"90%\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(Fade, {\n        in: loading,\n        style: {\n          transitionDelay: '0m'\n        },\n        unmountOnExit: true,\n        children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 443,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 436,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 445,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 435,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.root,\n      children: /*#__PURE__*/_jsxDEV(Snackbar, {\n        open: open,\n        autoHideDuration: 3000,\n        children: /*#__PURE__*/_jsxDEV(Alert, {\n          severity: error ? \"error\" : \"success\",\n          children: error ? \"Error!\" : \"Se ha asociado el programa!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 449,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 448,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 447,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      item: true,\n      children: [/*#__PURE__*/_jsxDEV(Controls.Button, {\n        variant: \"text\",\n        text: \"Informaci\\xF3n de programas\",\n        className: classes.textLeft,\n        href: \"#programas\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 456,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Controls.Button, {\n        variant: \"text\",\n        text: \"Asociar programa\",\n        className: classes.textLeft,\n        href: \"#asociar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 457,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Controls.Button, {\n        variant: \"text\",\n        text: \"Informaci\\xF3n de factores\",\n        className: classes.textLeft,\n        href: \"#factores\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 458,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 455,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      direction: \"row\",\n      children: /*#__PURE__*/_jsxDEV(Tooltip, {\n        title: \"Exportar proyecto\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.iconContainer,\n          hidden: role ? !role.export : false,\n          children: /*#__PURE__*/_jsxDEV(CSVDownloader, {\n            data: toExport,\n            filename: name,\n            config: {},\n            children: /*#__PURE__*/_jsxDEV(DownloadIcon, {\n              fontSize: 'medium',\n              color: 'success'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 471,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 466,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 465,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 464,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 460,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(PageHeader, {\n      title: \"Informaci\\xF3n detallada sobre un proyecto\",\n      subTitle: \"Se mostrar\\xE1 tambi\\xE9n los programas y factores asociados\",\n      icon: /*#__PURE__*/_jsxDEV(InfoIcon, {\n        fontSize: \"large\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 479,\n        columnNumber: 15\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 476,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {\n      id: \"programas\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 482,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      direction: \"row\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      style: {\n        width: \"90%\"\n      },\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        className: classes.cardContainer,\n        children: [/*#__PURE__*/_jsxDEV(CardMedia, {\n          className: classes.media,\n          image: image ? image : defaultImg,\n          title: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 492,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            gutterBottom: true,\n            variant: \"h5\",\n            component: \"h2\",\n            children: [\"Nombre: \", name ? name : 'Nombre']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 498,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"subtitle1\",\n            color: \"textSecondary\",\n            component: \"p\",\n            children: [\"Descripci\\xF3n: \", description ? description : 'Descripción']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 501,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"subtitle1\",\n            color: \"textSecondary\",\n            component: \"p\",\n            children: [\"Objetivos: \", objetives ? objetives : 'Sin objetivos']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 504,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"subtitle1\",\n            color: \"textSecondary\",\n            component: \"p\",\n            children: [\"Justificaci\\xF3n: \", justification ? justification : 'Sin justificación']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 507,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"subtitle1\",\n            color: \"textSecondary\",\n            component: \"p\",\n            children: [\"Pa\\xEDs: \", country ? country : 'País no ingresado.']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 510,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"subtitle1\",\n            color: \"textSecondary\",\n            component: \"p\",\n            children: [\"Departamento: \", department ? department : 'Departamento no ingresado.']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 513,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"subtitle1\",\n            color: \"textSecondary\",\n            component: \"p\",\n            children: [\"Distrito: \", district ? district : 'Distrito no ingresado.']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 516,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"subtitle1\",\n            color: \"textSecondary\",\n            component: \"p\",\n            children: [\"Definici\\xF3n general: \", definition ? definition : 'Definición general no ingresada.']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 519,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 497,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CardActions, {\n          disableSpacing: true,\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"subtitle1\",\n            color: \"textSecondary\",\n            component: \"p\",\n            children: \"\\xBFProyecto activo?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 526,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Controls.Checkbox, {\n            name: \"isTimeSeries\",\n            label: \"\",\n            value: isTimeSeries,\n            disabled: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 529,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"subtitle1\",\n            color: \"textSecondary\",\n            component: \"p\",\n            children: [\"Tipo: \", type === 'clasificacion' ? 'Clasificación' : 'Regresión']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 535,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 525,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 490,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 483,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 541,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(PageHeader, {\n      title: \"Programas asociados al proyecto\",\n      subTitle: \"Se muestran todos los programas asociados a este proyecto\",\n      icon: /*#__PURE__*/_jsxDEV(ProgramIcon, {\n        fontSize: \"large\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 545,\n        columnNumber: 15\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 542,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.root,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        hidden: !isProgramsBio,\n        children: [/*#__PURE__*/_jsxDEV(CssBaseline, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 552,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.programholder,\n          hidden: !loading,\n          children: [/*#__PURE__*/_jsxDEV(Fade, {\n            in: loading,\n            style: {\n              transitionDelay: '0m'\n            },\n            unmountOnExit: true,\n            children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 561,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 554,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 563,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 553,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Paper, {\n          className: classes.table,\n          children: [/*#__PURE__*/_jsxDEV(TableContainer, {\n            children: /*#__PURE__*/_jsxDEV(Table, {\n              stickyHeader: true,\n              \"aria-label\": \"sticky table\",\n              className: classes.container,\n              children: [/*#__PURE__*/_jsxDEV(TableHead, {\n                children: /*#__PURE__*/_jsxDEV(TableRow, {\n                  className: classes.thead,\n                  children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                    children: \"Nombre\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 570,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    children: \"Objetivos\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 571,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    children: \"Definici\\xF3n principal\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 572,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    className: classes.programholder,\n                    children: \"Acciones\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 573,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 569,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 568,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n                children: programsBio.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map(program => /*#__PURE__*/_jsxDEV(TableRow, {\n                  hover: true,\n                  className: classes.row,\n                  children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                    children: program.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 579,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    children: program.objetivesProgram\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 580,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    children: program.definitionProgram\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 581,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    children: /*#__PURE__*/_jsxDEV(Grid, {\n                      container: true,\n                      direction: \"row\",\n                      justifyContent: \"center\",\n                      alignItems: \"center\",\n                      children: [/*#__PURE__*/_jsxDEV(Tooltip, {\n                        title: \"Informaci\\xF3n\",\n                        children: /*#__PURE__*/_jsxDEV(Button, {\n                          className: classes.button,\n                          variant: \"contained\",\n                          style: {\n                            marginRight: 10\n                          },\n                          component: Link,\n                          to: `/program/show/${program._id}`,\n                          children: /*#__PURE__*/_jsxDEV(InfoIcon, {}, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 591,\n                            columnNumber: 31\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 590,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 589,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n                        title: \"Graficar datos\",\n                        children: /*#__PURE__*/_jsxDEV(Button, {\n                          color: \"secondary\",\n                          variant: \"contained\",\n                          style: {\n                            marginRight: 10\n                          },\n                          component: Link,\n                          to: `/graphics/${id}/${program._id}`,\n                          children: /*#__PURE__*/_jsxDEV(BarChartIcon, {}, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 596,\n                            columnNumber: 31\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 595,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 594,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n                        title: \"Mostrar datos\",\n                        children: /*#__PURE__*/_jsxDEV(Button, {\n                          color: \"inherit\",\n                          variant: \"contained\",\n                          style: {\n                            marginRight: 10\n                          },\n                          component: Link,\n                          to: `/data/show/${id}/${program._id}`,\n                          children: /*#__PURE__*/_jsxDEV(VisibilityIcon, {}, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 601,\n                            columnNumber: 31\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 600,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 599,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n                        title: \"Agregar datos\",\n                        children: /*#__PURE__*/_jsxDEV(Button, {\n                          color: \"primary\",\n                          variant: \"contained\",\n                          style: {\n                            marginRight: 10\n                          },\n                          component: Link,\n                          to: `/data/add/${id}/${program._id}`,\n                          children: /*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 606,\n                            columnNumber: 31\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 605,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 604,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 583,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 582,\n                    columnNumber: 23\n                  }, this)]\n                }, program.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 578,\n                  columnNumber: 21\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 576,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 567,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 566,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TablePagination, {\n            rowsPerPageOptions: [10, 25, 100],\n            component: \"div\",\n            count: programsBio.length,\n            rowsPerPage: rowsPerPage,\n            page: page,\n            onPageChange: handleChangePage,\n            onRowsPerPageChange: handleChangeRowsPerPage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 617,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 565,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 551,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.programholder,\n        hidden: isProgramsBio,\n        children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 629,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"subtitle1\",\n          color: \"textSecondary\",\n          component: \"p\",\n          children: \"No hay nada qu\\xE9 mostrar en est\\xE1 secci\\xF3n\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 630,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 628,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 550,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {\n      id: \"asociar\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 635,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 636,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(PageHeader, {\n      title: \"Asociar programa a proyecto\",\n      subTitle: \"Seleccione un programa para asociarlo a este proyecto\",\n      icon: /*#__PURE__*/_jsxDEV(InfoIcon, {\n        fontSize: \"large\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 640,\n        columnNumber: 15\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 637,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.programholder,\n      hidden: !loadingAso,\n      children: [/*#__PURE__*/_jsxDEV(Fade, {\n        in: loadingAso,\n        style: {\n          transitionDelay: '0m'\n        },\n        unmountOnExit: true,\n        children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 651,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 644,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 653,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 643,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Paper, {\n      className: classes.pageContent,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        direction: \"row\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        children: /*#__PURE__*/_jsxDEV(Autocomplete, {\n          value: programValue,\n          onChange: (event, newValue) => {\n            getPictureProgram(newValue);\n            setProgramValue(newValue);\n          },\n          className: classes.center,\n          id: \"combo-box-programs\",\n          options: filteredPrograms,\n          getOptionLabel: option => option.name,\n          style: {\n            width: 300\n          },\n          renderInput: params => /*#__PURE__*/_jsxDEV(TextField, { ...params,\n            label: \"Programas\",\n            variant: \"outlined\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 674,\n            columnNumber: 38\n          }, this),\n          disabled: loadingAso,\n          inputValue: inputValue,\n          onInputChange: (event, newInputValue) => {\n            setInputValue(newInputValue);\n\n            if (newInputValue === '') {\n              setIsEmpty(true);\n              setProgramValue('');\n            } else setIsEmpty(false);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 662,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 656,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        hidden: isEmpty,\n        children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 765,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          direction: \"row\",\n          justifyContent: \"center\",\n          alignItems: \"center\",\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            className: classes.cardContainer,\n            children: [/*#__PURE__*/_jsxDEV(CardMedia, {\n              className: classes.media,\n              image: programImage ? programImage : defaultImg,\n              title: \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 774,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                gutterBottom: true,\n                variant: \"h5\",\n                component: \"h2\",\n                children: programValue ? programValue.name : ''\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 780,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"subtitle1\",\n                color: \"textSecondary\",\n                component: \"p\",\n                children: programValue ? programValue.description : ''\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 783,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 779,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(CardActions, {\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"subtitle1\",\n                color: \"primary\",\n                component: \"p\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Objetivos: \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 790,\n                  columnNumber: 19\n                }, this), programValue ? programValue.objetivesProgram : '']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 789,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"subtitle1\",\n                color: \"primary\",\n                component: \"p\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Definici\\xF3n principal: \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 794,\n                  columnNumber: 19\n                }, this), programValue ? programValue.definitionProgram : '']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 793,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 788,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 772,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 766,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 800,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          direction: \"row\",\n          justifyContent: \"center\",\n          alignItems: \"center\",\n          children: /*#__PURE__*/_jsxDEV(Controls.Button, {\n            text: \"Asociar programa\",\n            color: \"primary\",\n            onClick: associateProgram\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 807,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 801,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 764,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 655,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 815,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 816,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.programholder,\n      hidden: !loadingAso,\n      children: [/*#__PURE__*/_jsxDEV(Fade, {\n        in: loadingAso,\n        style: {\n          transitionDelay: '0m'\n        },\n        unmountOnExit: true,\n        children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 825,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 818,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 827,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 817,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"factores\",\n      children: /*#__PURE__*/_jsxDEV(ViewFactors, {\n        id: id,\n        role: role\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 830,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 829,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ScrollToTop, {\n      showBelow: 150\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 832,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 834,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 835,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 836,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 433,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ShowProjects, \"GEH4snvTY+5T+EClJWzmuRtQjZM=\", false, function () {\n  return [useStyles, useParams, useForm];\n});\n\n_c = ShowProjects;\n\nvar _c;\n\n$RefreshReg$(_c, \"ShowProjects\");","map":{"version":3,"sources":["C:/Users/Usuario WTK/Desktop/zzzzzzzzzzzzzzzzzzzzzzzzzz Proyecto 2/frontend/src/pages/Project/ShowProject.js"],"names":["React","makeStyles","Card","CardActions","CardContent","CardMedia","Typography","Grid","InfoIcon","PageHeader","useState","useEffect","useParams","CircularProgress","Fade","Controls","axios","AddIcon","VisibilityIcon","BarChartIcon","ProgramIcon","Link","TableContainer","TablePagination","Table","TableHead","TableCell","Paper","TableRow","TableBody","Button","CssBaseline","useForm","Form","Tooltip","Autocomplete","TextField","Snackbar","MuiAlert","ViewFactors","defaultImg","ScrollToTop","CSVDownloader","DownloadIcon","getPermissions","useStyles","theme","cardContainer","width","justifyContent","alignItems","media","height","table","margin","thead","fontSize","background","color","row","buttonheader","display","programholder","textAlign","button","pageContent","padding","spacing","center","horizmenu","textLeft","marginLeft","paddingLeft","initialValue","name","description","objetives","justification","country","department","district","definition","isTimeSeries","image","programs","initialProgramValues","objetivesProgram","definitionProgram","projects","cleanProgram","ShowProjects","page","setPage","rowsPerPage","setRowsPerPage","toExport","setExport","handleChangePage","event","newPage","handleChangeRowsPerPage","target","value","project","setProject","open","setOpen","error","setError","loading","setLoading","loadingAso","setLoadingAso","programsBio","setProgramsBio","filteredPrograms","setFilteredPrograms","isProgramsBio","setIsProgramsBio","isEmpty","setIsEmpty","programImage","setImage","userType","localStorage","getItem","role","setRole","classes","id","unmounted","response","data","getProgramsBio","getFilteredPrograms","getProject","config","headers","Authorization","beautifyFactors","get","factorsExport","factors","factor","_id","__v","projectID","Object","entries","beautifyPrograms","programsExport","program","beautifyCSV","projectP","type","assign","setTimeout","length","getPictureProgram","console","log","validate","fieldValues","values","temp","errors","setErrors","every","x","addNewProgram","push","post","updateProgram","programValue","patch","updateProject","associateProgram","then","setProgramValue","setInputValue","confirmPost","wrapProgram","setValues","handleInputChange","resetForm","handleSubmit","e","preventDefault","Program","inputValue","Alert","props","root","transitionDelay","iconContainer","export","container","slice","map","marginRight","newValue","option","params","newInputValue"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid'\r\nimport InfoIcon from '@material-ui/icons/Info';\r\nimport PageHeader from \"../../components/PageHeader\";\r\nimport { useState, useEffect } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport Fade from '@material-ui/core/Fade';\r\nimport Controls from \"../../components/controls/Controls\";\r\nimport axios from \"axios\";\r\nimport AddIcon from '@mui/icons-material/Add';\r\nimport VisibilityIcon from '@mui/icons-material/Visibility';\r\nimport BarChartIcon from '@mui/icons-material/BarChart';\r\nimport ProgramIcon from '@material-ui/icons/Place';\r\nimport { Link } from 'react-router-dom';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TablePagination from '@material-ui/core/TablePagination';\r\nimport { Table, TableHead, TableCell, Paper, TableRow, TableBody, Button, CssBaseline } from '@material-ui/core'\r\nimport { useForm, Form } from '../../components/useForm';\r\nimport Tooltip from '@mui/material/Tooltip';\r\nimport Autocomplete from '@material-ui/lab/Autocomplete';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport ViewFactors from '../Factors/ViewFactors';\r\nimport defaultImg from '../../assets/img/defaultImg.jpeg'\r\nimport { ScrollToTop } from '../../components/ScrollToTop'\r\nimport { CSVDownloader } from 'react-papaparse'\r\nimport DownloadIcon from '@mui/icons-material/Download';\r\nimport { getPermissions } from '../../services/userService';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  cardContainer: {\r\n    width: 800,\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\"\r\n  },\r\n  media: {\r\n    height: 300,\r\n  },\r\n  table: {\r\n    width: '90%',\r\n    margin: '50px 0 0 0'\r\n  },\r\n  thead: {\r\n    '& > *': {\r\n      fontSize: 20,\r\n      background: '#8ade8f',\r\n      color: '#FFFFFF'\r\n    }\r\n  },\r\n  row: {\r\n    '& > *': {\r\n      fontSize: 18\r\n    }\r\n  },\r\n  buttonheader: {\r\n    display: 'flex'\r\n\r\n  },\r\n  programholder: {\r\n    height: 40,\r\n    textAlign: 'center'\r\n  },\r\n  button: {\r\n    background: '#4287f5',\r\n    color: '#FFFFFF'\r\n  },\r\n  pageContent: {\r\n    width: '90%',\r\n    margin: '50px 0 0 0',\r\n    padding: theme.spacing(3),\r\n  },\r\n  center: {\r\n    display: 'flex',\r\n    textAlign: 'center'\r\n  },\r\n  horizmenu: {\r\n    display: 'inline-block'\r\n  },\r\n  textLeft: {\r\n    marginLeft: '0',\r\n    paddingLeft: '0'\r\n  }\r\n}));\r\n\r\nconst initialValue = {\r\n  name: '',\r\n  description: '',\r\n  objetives: '',\r\n  justification: '',\r\n  country: '',\r\n  department: '',\r\n  district: '',\r\n  definition: '',\r\n  isTimeSeries: true,\r\n  image: '',\r\n  programs: []\r\n}\r\n\r\nconst initialProgramValues = {\r\n  name: '',\r\n  description: '',\r\n  objetivesProgram: '',\r\n  definitionProgram: '',\r\n  image: '',\r\n  projects: []\r\n}\r\n\r\nconst cleanProgram = {\r\n  name: '',\r\n  description: '',\r\n  objetivesProgram: '',\r\n  definitionProgram: '',\r\n  image: '',\r\n  projects: []\r\n}\r\n\r\n\r\nexport default function ShowProjects() {\r\n  const [page, setPage] = React.useState(0);\r\n  const [rowsPerPage, setRowsPerPage] = React.useState(10);\r\n  const [toExport, setExport] = useState([]);\r\n\r\n  const handleChangePage = (event, newPage) => {\r\n    setPage(newPage);\r\n  };\r\n\r\n  const handleChangeRowsPerPage = (event) => {\r\n    setRowsPerPage(+event.target.value);\r\n    setPage(0);\r\n  };\r\n  const [project, setProject] = useState(initialValue);\r\n  const { name, description, objetives,justification, country,department,district,definition, isTimeSeries, image, programs} = project;\r\n  const [open, setOpen] = React.useState(false);\r\n  const [error, setError] = useState('');\r\n  const [loading, setLoading] = React.useState(true);\r\n  const [loadingAso, setLoadingAso] = React.useState(false);\r\n  const [programsBio, setProgramsBio] = React.useState([]);\r\n  const [filteredPrograms, setFilteredPrograms] = React.useState([{ name: \"\" }]);\r\n  const [isProgramsBio, setIsProgramsBio] = React.useState(false);\r\n  const [isEmpty, setIsEmpty] = React.useState(true);\r\n  const [programImage, setImage] = React.useState(\"\");\r\n  const userType = localStorage.getItem(\"type\");\r\n  const [role, setRole] = useState();\r\n  const classes = useStyles();\r\n  const { id } = useParams();\r\n  useEffect( async() => {\r\n\r\n    let unmounted = false;\r\n    setLoading(true);\r\n    if(userType === \"user\"){\r\n      const response = await getPermissions(localStorage.getItem(\"uid\"), id);\r\n      setRole(response?.data?.role);\r\n    }\r\n    await getProgramsBio();\r\n    await getFilteredPrograms();\r\n    await getProject();\r\n    setLoading(false);\r\n    return () => { unmounted = true; };\r\n  }, []);\r\n\r\n  const config = {\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${localStorage.getItem(\"authToken\")}`,\r\n    },\r\n  };\r\n\r\n  async function beautifyFactors(){\r\n    const response = await axios.get(\r\n      `http://localhost:5000/api/private/factorproject/${id}`,\r\n      config\r\n    );\r\n    let factorsExport = {};\r\n    const factors = response.data.factors;\r\n    for (const factor in factors){\r\n      delete factors[factor]._id;\r\n      delete factors[factor].__v;\r\n      delete factors[factor].projectID;\r\n      factorsExport[`factor${factor}`] = Object.entries(factors[factor]);\r\n    }\r\n    return factorsExport;\r\n  }\r\n\r\n  function beautifyPrograms(){\r\n    let programsExport = {};\r\n    for (const program in programsBio) {\r\n      delete programsBio[program]._id;\r\n      delete programsBio[program].__v;\r\n      delete programsBio[program].projects;\r\n      programsExport[`program${program}`] = Object.entries(programsBio[program]);\r\n    }\r\n    return programsExport;\r\n  }\r\n\r\n  async function beautifyCSV(projectP){\r\n\r\n    const factors = await beautifyFactors();\r\n    const programs = beautifyPrograms();\r\n    let toExport = {\r\n      id: projectP.id,\r\n      name: projectP.name,\r\n      description: projectP.description,\r\n      objetives: projectP.objetives,\r\n      justification: projectP.justification,\r\n      country: projectP.country,\r\n      department: projectP.department,\r\n      district: projectP.district,\r\n      definition: projectP.definition,\r\n      isTimeSeries: projectP.isTimeSeries,\r\n      type: projectP.type,\r\n    }\r\n    toExport = Object.assign(toExport,programs);\r\n    toExport = Object.assign(toExport,factors);\r\n    setExport([toExport]);\r\n  }\r\n\r\n  const getProject = async () => {\r\n    try {\r\n      \r\n      let response = await axios.get(`http://localhost:5000/api/private/project/${id}`, config);\r\n      setProject(response.data.project);\r\n      let data = response.data.project;\r\n      \r\n      beautifyCSV(data);\r\n    } catch (error) {\r\n      setTimeout(() => {\r\n        setOpen(false);\r\n        setTimeout(() => {\r\n          setError(\"\");\r\n        }, 2000);\r\n\r\n      }, 5000);\r\n      setOpen(true);\r\n      return setError(\"Authentication failed!\");\r\n    }\r\n  }\r\n\r\n  const getProgramsBio = async () => {\r\n    try {\r\n      let response = await axios.get(`http://localhost:5000/api/private/programproject/${id}`, config);\r\n      setProgramsBio(response.data.programs);\r\n      setLoading(false);\r\n      if (response.data.programs.length > 0)\r\n        setIsProgramsBio(true);\r\n    } catch (error) {\r\n      setTimeout(() => {\r\n        setOpen(false);\r\n        setTimeout(() => {\r\n          setError(\"\");\r\n        }, 2000);\r\n\r\n      }, 5000);\r\n      setOpen(true);\r\n      return setError(\"Authentication failed!\");\r\n    }\r\n  }\r\n\r\n  const getFilteredPrograms = async () => {\r\n    try {\r\n      let response = await axios.get(`http://localhost:5000/api/private/filteredprogram/${id}`, config);\r\n      setFilteredPrograms(response.data.programs);\r\n    } catch (error) {\r\n      setTimeout(() => {\r\n        setOpen(false);\r\n        setTimeout(() => {\r\n          setError(\"\");\r\n        }, 2000);\r\n\r\n      }, 5000);\r\n      setOpen(true);\r\n      return setError(\"Authentication failed!\");\r\n\r\n\r\n    }\r\n  }\r\n\r\n  const getPictureProgram = async (program) => {\r\n    try {\r\n      if (program) {\r\n        let response = await axios.get(`http://localhost:5000/api/private/programPicture/${program.id}`, config);\r\n        setImage(response.data.program.image);\r\n      } else {\r\n        setImage(\"\");\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n\r\n  const validate = (fieldValues = values) => {\r\n    let temp = { ...errors }\r\n    if ('name' in fieldValues)\r\n      temp.name = fieldValues.name ? \"\" : \"Este campo es obligatorio.\"\r\n    if ('description' in fieldValues)\r\n      temp.description = fieldValues.description ? \"\" : \"Este campo es obligatorio.\"\r\n    if ('objetivesProgram' in fieldValues)\r\n      temp.objetivesProgram = fieldValues.objetivesProgram ? \"\" : \"Este campo es obligatorio.\"\r\n    if ('definitionProgram' in fieldValues)\r\n      temp.definitionProgram = fieldValues.definitionProgram ? \"\" : \"Este campo es obligatorio.\"\r\n    setErrors({\r\n      ...temp\r\n    })\r\n\r\n    if (fieldValues === values)\r\n      return Object.values(temp).every(x => x === \"\")\r\n  }\r\n\r\n  const addNewProgram = async () => {\r\n    try {\r\n      setLoadingAso(true);\r\n      values.projects.push(id);\r\n      return await axios.post(`http://localhost:5000/api/private/program/`, values, config);\r\n    } catch (error) {\r\n      setTimeout(() => {\r\n        setOpen(false);\r\n        setTimeout(() => {\r\n          setError(\"\");\r\n        }, 2000);\r\n\r\n      }, 5000);\r\n      setOpen(true);\r\n      setLoadingAso(false);\r\n      return setError(\"Authentication failed!\");\r\n    }\r\n  }\r\n\r\n  const updateProgram = async () => {\r\n    try {\r\n      setLoadingAso(true);\r\n      programValue.projects.push(id);\r\n      return await axios.patch(`http://localhost:5000/api/private/program/${programValue.id}`, programValue, config);\r\n    } catch (error) {\r\n      setTimeout(() => {\r\n        setOpen(false);\r\n        setTimeout(() => {\r\n          setError(\"\");\r\n        }, 2000);\r\n\r\n      }, 5000);\r\n      setOpen(true);\r\n      setLoadingAso(false);\r\n      return setError(\"Authentication failed!\");\r\n    }\r\n  }\r\n\r\n  const updateProject = async (program) => {\r\n    try {\r\n      setLoadingAso(true);\r\n      project.programs.push(program._id);\r\n      axios.patch(`http://localhost:5000/api/private/project/${id}`, project, config);\r\n      setLoadingAso(false);\r\n    } catch (error) {\r\n      setTimeout(() => {\r\n        setOpen(false);\r\n        setTimeout(() => {\r\n          setError(\"\");\r\n        }, 2000);\r\n\r\n      }, 5000);\r\n      setOpen(true);\r\n      setLoadingAso(false);\r\n      return setError(\"Authentication failed!\");\r\n    }\r\n  }\r\n\r\n  const associateProgram = async () => {\r\n    await updateProgram().then(setLoadingAso(false));\r\n    await updateProject(programValue).then(setLoadingAso(false));\r\n    await getFilteredPrograms();\r\n    await getProgramsBio();\r\n    setProgramValue(filteredPrograms[0]);\r\n    setInputValue('');\r\n    setIsEmpty(true);\r\n    confirmPost();\r\n  }\r\n\r\n  const wrapProgram = async (program) => {\r\n    await updateProject(program).then(setLoadingAso(false));\r\n    await getFilteredPrograms();\r\n    await getProgramsBio();\r\n    confirmPost();\r\n  }\r\n\r\n\r\n\r\n  const {\r\n    values,\r\n    setValues,\r\n    errors,\r\n    setErrors,\r\n    handleInputChange,\r\n    resetForm\r\n  } = useForm(initialProgramValues, true, validate);\r\n\r\n  const confirmPost = () => {\r\n    setOpen(true);\r\n    resetForm({\r\n\r\n    })\r\n    setTimeout(function () {\r\n      setOpen(false);\r\n    }, 6000);\r\n  }\r\n  const handleSubmit = e => {\r\n    e.preventDefault()\r\n    if (validate()) {\r\n      addNewProgram().then((response) => {\r\n        setLoadingAso(false);\r\n        setValues(cleanProgram);\r\n        wrapProgram(response.data.Program);\r\n      });\r\n\r\n    }\r\n  }\r\n\r\n  const [programValue, setProgramValue] = React.useState(filteredPrograms[0]);\r\n  const [inputValue, setInputValue] = React.useState('');\r\n\r\n  function Alert(props) {\r\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n  }\r\n\r\n  return (\r\n\r\n    <div className={classes.root}>\r\n\r\n      <div className={classes.programholder} hidden={!loading} style={{ width: \"90%\" }}>\r\n        <Fade\r\n          in={loading}\r\n          style={{\r\n            transitionDelay: '0m',\r\n          }}\r\n          unmountOnExit\r\n        >\r\n          <CircularProgress />\r\n        </Fade>\r\n        <br />\r\n      </div>\r\n      <div className={classes.root}>\r\n        <Snackbar open={open} autoHideDuration={3000}>\r\n          <Alert severity={error ? \"error\" : \"success\"}>\r\n            {error ? \"Error!\" : \"Se ha asociado el programa!\"}\r\n          </Alert>\r\n        </Snackbar>\r\n      </div>\r\n\r\n      <Grid item>\r\n        <Controls.Button variant=\"text\" text=\"Información de programas\" className={classes.textLeft} href=\"#programas\" />\r\n        <Controls.Button variant=\"text\" text=\"Asociar programa\" className={classes.textLeft} href=\"#asociar\" />\r\n        <Controls.Button variant=\"text\" text=\"Información de factores\" className={classes.textLeft} href=\"#factores\" />\r\n      </Grid>\r\n      <Grid\r\n        container\r\n        direction=\"row\"\r\n      >\r\n        <Tooltip title=\"Exportar proyecto\">\r\n          <div className={classes.iconContainer} hidden={role? !role.export : false}>\r\n            <CSVDownloader\r\n              data={toExport}\r\n              filename={name}\r\n              config={{}}\r\n            >\r\n              <DownloadIcon fontSize={'medium'} color={'success'} />\r\n            </CSVDownloader>\r\n          </div>\r\n        </Tooltip>\r\n      </Grid>\r\n      <PageHeader\r\n        title=\"Información detallada sobre un proyecto\"\r\n        subTitle=\"Se mostrará también los programas y factores asociados\"\r\n        icon={<InfoIcon fontSize=\"large\"\r\n        />}\r\n      />\r\n      <br id=\"programas\" />\r\n      <Grid\r\n        container\r\n        direction=\"row\"\r\n        justifyContent=\"center\"\r\n        alignItems=\"center\"\r\n        style={{ width: \"90%\" }}\r\n      >\r\n        <Card className={classes.cardContainer}>\r\n\r\n          <CardMedia\r\n            className={classes.media}\r\n            image={image ? image : defaultImg}\r\n            title=\"\"\r\n          />\r\n          <CardContent>\r\n            <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n              Nombre: {name ? name : 'Nombre'}\r\n            </Typography>\r\n            <Typography variant=\"subtitle1\" color=\"textSecondary\" component=\"p\">\r\n              Descripción: {description ? description : 'Descripción'}\r\n            </Typography>\r\n            <Typography variant=\"subtitle1\" color=\"textSecondary\" component=\"p\">\r\n              Objetivos: {objetives ? objetives: 'Sin objetivos'}\r\n            </Typography>\r\n            <Typography variant=\"subtitle1\" color=\"textSecondary\" component=\"p\">\r\n              Justificación: {justification ? justification: 'Sin justificación'}\r\n            </Typography>\r\n            <Typography variant=\"subtitle1\" color=\"textSecondary\" component=\"p\">\r\n              País: {country ? country: 'País no ingresado.'}\r\n            </Typography>\r\n            <Typography variant=\"subtitle1\" color=\"textSecondary\" component=\"p\">\r\n              Departamento: {department ? department: 'Departamento no ingresado.'}\r\n            </Typography>\r\n            <Typography variant=\"subtitle1\" color=\"textSecondary\" component=\"p\">\r\n              Distrito: {district ? district: 'Distrito no ingresado.'}\r\n            </Typography>\r\n            <Typography variant=\"subtitle1\" color=\"textSecondary\" component=\"p\">\r\n              Definición general: {definition ? definition: 'Definición general no ingresada.'}\r\n            </Typography>\r\n            \r\n          </CardContent>\r\n\r\n          <CardActions disableSpacing>\r\n            <Typography variant=\"subtitle1\" color=\"textSecondary\" component=\"p\">\r\n              ¿Proyecto activo?\r\n            </Typography>\r\n            <Controls.Checkbox\r\n              name=\"isTimeSeries\"\r\n              label=\"\"\r\n              value={isTimeSeries}\r\n              disabled={true}\r\n            />\r\n            <Typography variant=\"subtitle1\" color=\"textSecondary\" component=\"p\">\r\n              Tipo: {type === 'clasificacion' ? 'Clasificación' : 'Regresión'}\r\n            </Typography>\r\n          </CardActions>\r\n        </Card>\r\n      </Grid>\r\n      <br />\r\n      <PageHeader\r\n        title=\"Programas asociados al proyecto\"\r\n        subTitle=\"Se muestran todos los programas asociados a este proyecto\"\r\n        icon={<ProgramIcon fontSize=\"large\"\r\n\r\n        />}\r\n      />\r\n\r\n      <div className={classes.root}>\r\n        <div hidden={!isProgramsBio}>\r\n          <CssBaseline />\r\n          <div className={classes.programholder} hidden={!loading}>\r\n            <Fade\r\n              in={loading}\r\n              style={{\r\n                transitionDelay: '0m',\r\n              }}\r\n              unmountOnExit\r\n            >\r\n              <CircularProgress />\r\n            </Fade>\r\n            <br />\r\n          </div>\r\n          <Paper className={classes.table}>\r\n            <TableContainer >\r\n              <Table stickyHeader aria-label=\"sticky table\" className={classes.container}>\r\n                <TableHead>\r\n                  <TableRow className={classes.thead}>\r\n                    <TableCell>Nombre</TableCell>\r\n                    <TableCell>Objetivos</TableCell>\r\n                    <TableCell>Definición principal</TableCell>\r\n                    <TableCell className={classes.programholder}>Acciones</TableCell>\r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                  {programsBio.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map((program) => (\r\n                    <TableRow hover className={classes.row} key={program.id}>\r\n                      <TableCell>{program.name}</TableCell>\r\n                      <TableCell>{program.objetivesProgram}</TableCell>\r\n                      <TableCell>{program.definitionProgram}</TableCell>\r\n                      <TableCell>\r\n                        <Grid\r\n                          container\r\n                          direction=\"row\"\r\n                          justifyContent=\"center\"\r\n                          alignItems=\"center\"\r\n                        >\r\n                          <Tooltip title=\"Información\">\r\n                            <Button className={classes.button} variant=\"contained\" style={{ marginRight: 10 }} component={Link} to={`/program/show/${program._id}`}>\r\n                              <InfoIcon />\r\n                            </Button>\r\n                          </Tooltip>\r\n                          <Tooltip title=\"Graficar datos\">\r\n                            <Button color=\"secondary\" variant=\"contained\" style={{ marginRight: 10 }} component={Link} to={`/graphics/${id}/${program._id}`}>\r\n                              <BarChartIcon />\r\n                            </Button>\r\n                          </Tooltip>\r\n                          <Tooltip title=\"Mostrar datos\">\r\n                            <Button color=\"inherit\" variant=\"contained\" style={{ marginRight: 10 }} component={Link} to={`/data/show/${id}/${program._id}`}>\r\n                              <VisibilityIcon />\r\n                            </Button>\r\n                          </Tooltip>\r\n                          <Tooltip title=\"Agregar datos\">\r\n                            <Button color=\"primary\" variant=\"contained\" style={{ marginRight: 10 }} component={Link} to={`/data/add/${id}/${program._id}`}>\r\n                              <AddIcon />\r\n                            </Button>\r\n                          </Tooltip>\r\n\r\n                        </Grid>\r\n                      </TableCell>\r\n                    </TableRow>\r\n                  ))}\r\n                </TableBody>\r\n              </Table>\r\n            </TableContainer>\r\n            <TablePagination\r\n              rowsPerPageOptions={[10, 25, 100]}\r\n              component=\"div\"\r\n              count={programsBio.length}\r\n              rowsPerPage={rowsPerPage}\r\n              page={page}\r\n              onPageChange={handleChangePage}\r\n              onRowsPerPageChange={handleChangeRowsPerPage}\r\n            />\r\n          </Paper>\r\n        </div>\r\n        <div className={classes.programholder} hidden={isProgramsBio}>\r\n          <br />\r\n          <Typography variant=\"subtitle1\" color=\"textSecondary\" component=\"p\">\r\n            No hay nada qué mostrar en está sección\r\n          </Typography>\r\n        </div>\r\n      </div>\r\n      <br id=\"asociar\" />\r\n      <br />\r\n      <PageHeader\r\n        title=\"Asociar programa a proyecto\"\r\n        subTitle=\"Seleccione un programa para asociarlo a este proyecto\"\r\n        icon={<InfoIcon fontSize=\"large\"\r\n        />}\r\n      />\r\n      <div className={classes.programholder} hidden={!loadingAso}>\r\n        <Fade\r\n          in={loadingAso}\r\n          style={{\r\n            transitionDelay: '0m',\r\n          }}\r\n          unmountOnExit\r\n        >\r\n          <CircularProgress />\r\n        </Fade>\r\n        <br />\r\n      </div>\r\n      <Paper className={classes.pageContent}>\r\n        <Grid\r\n          container\r\n          direction=\"row\"\r\n          justifyContent=\"center\"\r\n          alignItems=\"center\"\r\n        >\r\n          <Autocomplete\r\n            value={programValue}\r\n            onChange={(event, newValue) => {\r\n              getPictureProgram(newValue);\r\n              setProgramValue(newValue);\r\n\r\n            }}\r\n            className={classes.center}\r\n            id=\"combo-box-programs\"\r\n            options={filteredPrograms}\r\n            getOptionLabel={(option) => option.name}\r\n            style={{ width: 300 }}\r\n            renderInput={(params) => <TextField {...params} label=\"Programas\" variant=\"outlined\" />}\r\n            disabled={loadingAso}\r\n            inputValue={inputValue}\r\n            onInputChange={(event, newInputValue) => {\r\n              setInputValue(newInputValue);\r\n              if (newInputValue === '') {\r\n                setIsEmpty(true);\r\n                setProgramValue('');\r\n              }\r\n              else\r\n                setIsEmpty(false);\r\n            }}\r\n          />\r\n\r\n        </Grid>\r\n        {/* <div hidden={!isEmpty}>\r\n\r\n          <Form onSubmit={handleSubmit}>\r\n            <br />\r\n            <Divider />\r\n            <br />\r\n            <Grid\r\n              container\r\n              direction=\"row\"\r\n              justifyContent=\"center\"\r\n              alignItems=\"center\"\r\n            >\r\n              <Typography variant=\"h5\" color=\"primary\" component=\"p\" >\r\n                Agregar programa\r\n              </Typography>\r\n            </Grid>\r\n\r\n            <br />\r\n            <Grid\r\n              container\r\n              direction=\"row\"\r\n              justifyContent=\"center\"\r\n              alignItems=\"center\"\r\n              style={{textAlign: 'center'}}\r\n            >\r\n              <Grid item xs={6}>\r\n                <Controls.Input\r\n                  name=\"name\"\r\n                  label=\"Nombre\"\r\n                  value={values.name}\r\n                  onChange={handleInputChange}\r\n                  error={errors.name}\r\n                />\r\n                <Controls.Input\r\n                  label=\"Descripción\"\r\n                  name=\"description\"\r\n                  value={values.description}\r\n                  onChange={handleInputChange}\r\n                  error={errors.description}\r\n                />\r\n              </Grid>\r\n              <Grid item xs={6}>\r\n                <Controls.Input\r\n                  name=\"objetivesProgram\"\r\n                  label=\"Objetivos\"\r\n                  value={values.objetivesProgram}\r\n                  onChange={handleInputChange}\r\n                  error={errors.name}\r\n                />\r\n                <Controls.Input\r\n                  label=\"Definición principal\"\r\n                  name=\"definitionProgram\"\r\n                  value={values.definitionProgram}\r\n                  onChange={handleInputChange}\r\n                  error={errors.description}\r\n                />\r\n              </Grid>\r\n\r\n              <Grid\r\n                container\r\n                direction=\"row\"\r\n                justifyContent=\"center\"\r\n                alignItems=\"center\"\r\n                style={{marginTop: '20px'}}\r\n              >\r\n\r\n                <Controls.Button\r\n                  type=\"submit\"\r\n                  text=\"AGREGAR Y ASOCIAR\"\r\n                />\r\n              </Grid>\r\n            </Grid>\r\n          </Form>\r\n        </div> */}\r\n\r\n        <div hidden={isEmpty}>\r\n          <br />\r\n          <Grid\r\n            container\r\n            direction=\"row\"\r\n            justifyContent=\"center\"\r\n            alignItems=\"center\"\r\n          >\r\n            <Card className={classes.cardContainer}>\r\n\r\n              <CardMedia\r\n                className={classes.media}\r\n                image={programImage ? programImage : defaultImg}\r\n                title=\"\"\r\n              />\r\n              <CardContent>\r\n                <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n                  {programValue ? programValue.name : ''}\r\n                </Typography>\r\n                <Typography variant=\"subtitle1\" color=\"textSecondary\" component=\"p\">\r\n                  {programValue ? programValue.description : ''}\r\n                </Typography>\r\n              </CardContent>\r\n\r\n              <CardActions>\r\n                <Typography variant=\"subtitle1\" color=\"primary\" component=\"p\">\r\n                  <span >Objetivos: </span>\r\n                  {programValue ? programValue.objetivesProgram : ''}\r\n                </Typography>\r\n                <Typography variant=\"subtitle1\" color=\"primary\" component=\"p\">\r\n                  <span>Definición principal: </span>\r\n                  {programValue ? programValue.definitionProgram : ''}\r\n                </Typography>\r\n              </CardActions>\r\n            </Card>\r\n          </Grid>\r\n          <br />\r\n          <Grid\r\n            container\r\n            direction=\"row\"\r\n            justifyContent=\"center\"\r\n            alignItems=\"center\"\r\n          >\r\n            <Controls.Button\r\n              text=\"Asociar programa\"\r\n              color=\"primary\"\r\n              onClick={associateProgram} />\r\n          </Grid>\r\n        </div>\r\n      </Paper>\r\n\r\n      <br />\r\n      <br />\r\n      <div className={classes.programholder} hidden={!loadingAso}>\r\n        <Fade\r\n          in={loadingAso}\r\n          style={{\r\n            transitionDelay: '0m',\r\n          }}\r\n          unmountOnExit\r\n        >\r\n          <CircularProgress />\r\n        </Fade>\r\n        <br />\r\n      </div>\r\n      <div id='factores'>\r\n        <ViewFactors id={id} role={role}/>\r\n      </div>\r\n      <ScrollToTop showBelow={150} />\r\n\r\n      <br />\r\n      <br />\r\n      <br />\r\n\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}